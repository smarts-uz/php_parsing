!function(e,t){"use strict";e.antc||(e.antc={});var n=e.antc,i="ShopneticEmbed";e[i]||(e[i]={});var r=e[i];n.isStarter=!0,r.setup=r.setup||{},r.iframes=r.iframes||!1,r.teasers=r.teasers||!1,r.locale=r.locale||"ru",n.version||(n.version=Math.random().toString(16).substr(2)),n.noop=function(){},n.modules||(n.modules={ecommerce:{isCss:!1},teaser:{sourceName:"te2er"},teaserVideo:{sourceName:"te2er-video"},story:{},storyTurbo:{sourceName:"story-turbo"},storyEngagements:{sourceName:"story-engagements",isCss:!1},storyProduct:{sourceName:"story-product",isCss:!1},storyQuiz:{sourceName:"story-quiz"},modals:{},leed:{sourceName:"widget/leed"},sWatcher:{sourceName:"s-watcher",isCss:!1},tooltip:{},powered:{},videoCanvas:{sourceName:"video/canvas"},videoHTML5:{sourceName:"video/html5"}}),n.utils||(n.utils={}),n.settings={isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isPlatformIOS:/iPhone|iPad|iPod/i.test(navigator.userAgent),isPlatformAndroid:/Android/i.test(navigator.userAgent),isTablet:/Tablet|iPad/i.test(navigator.userAgent),isMSIE:t.documentMode,isIframe:e.self!==e.top,isPostMessage:"postMessage"in e,isIntersectionObserver:"IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype,isHtml5Storage:function(){try{return"localStorage"in e&&null!==e.localStorage}catch(e){return!1}}(),isAudio:"canPlayType"in t.createElement("audio"),isVideo:"canPlayType"in t.createElement("video"),ready:{document:!1},url:{base:n.urlBase,embed:n.urlEmbed||n.urlBase},utm:{},ab:{locationName:"utm_ab",cookieName:"shopnetic-ab",value:1},click:{locationName:"utm_click",value:0},predict:{locationName:"predict",value:""},ga:{enable:!1,base:{init:!1,options:{trackingId:"UA-66263600-4",name:"antcGaTracker",cookieDomain:"auto",sampleRate:10},events:{}},ico:{init:!1,options:{trackingId:"UA-66263600-7",name:"antcICOGaTracker",cookieDomain:"auto",sampleRate:100},events:{}}},gtag:{enable:!1,ozon:{init:!1,options:{id:"AW-470126965"}},seller:{init:!1,options:{id:"GTM-TBCDW8Z"}}},fb:{ozon:{init:!1,options:{id:"220670568275867"}},seller:{init:!1,options:{id:"194094972320809"}}}};var o=n.settings;o.isDesktop=!o.isMobile&&!o.isTablet,o.isIframeSameOrigin=o.isIframe&&function(){try{return!!e.top.document}catch(e){return!1}}(),o.isIframeTurbo=o.isIframe&&/antc_iframe=1/.test(e.location.search),"/"!==o.url.base[o.url.base.length-1]&&(o.url.base+="/"),"/"!==o.url.embed[o.url.embed.length-1]&&(o.url.embed+="/"),-1!==o.url.base.indexOf("shopnetic")&&(o.ga.enable=!0),o.isIntersectionObserver&&"isIntersecting"in e.IntersectionObserverEntry.prototype&&Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||function(e){return-1!==Array.prototype.indexOf.call(t.querySelectorAll(e),this)}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}(window,document),function(e){"use strict";var t=e.antc.utils;!function(e){var t=setTimeout;function n(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void a(t.promise,e)}o(t.promise,i)}else(1===e._state?o:a)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void l((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){a(e,t)}var r,o}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new c(e,t,i)),i},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(e,t)},n)}i[e]=a,0==--r&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)o(a,i[a])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console},e.Promise=i}(t),t.Promise._immediateFn=function(e){e()}}(window),function(e,t,n){"use strict";var i=e.antc.utils;function r(){this.handlers=[],this.uniqueCounter=0}i.observer=function(){var e={},t={},n={},i={},o={};return{subscribe:function(e,n){var i=a(e).subscribe(n);if(void 0!==i){var r=""+e+i;return t[r]={id:i,name:e},c(e),r}},unsubscribe:function(i){if(!t[i])return!1;var r=t[i].name,s=t[i].id;return delete t[i],a(r).unsubscribe(s),o[r]||(o[r]=setTimeout(function(){delete o[r],a(r).isHandlers()||(delete e[r],function(e){n.hasOwnProperty(e)&&n[e].isCreated&&"function"==typeof n[e].stop&&(n[e].stop(),n[e].isCreated=!1)}(r))})),!0},fire:function(e,t,n){s(e)&&a(e).fire(t,n)},emitterAdd:function(e,t,i){n.hasOwnProperty(e)||"function"==typeof t&&(n[e]={start:t,stop:i},s(e)&&c(e))}};function a(t){return s(t)||(e[t]=new r),e[t]}function s(t){return e.hasOwnProperty(t)}function c(e){i[e]||(i[e]=setTimeout(function(){delete i[e],n.hasOwnProperty(e)&&!n[e].isCreated&&"function"==typeof n[e].start&&(n[e].start(),n[e].isCreated=!0)}))}}(),r.prototype={subscribe:function(e){if("function"==typeof e){var t={$id:"id"+ ++this.uniqueCounter,fn:e};return this.handlers.push(t),t.$id}},unsubscribe:function(e){for(var t=0;t<this.handlers.length;t++)if(this.handlers[t].$id===e)return this.handlers.splice(t,1),this.handlers.length;return!1},fire:function(t,n){var i=n||e;[].forEach.call(this.handlers,function(e){e&&"function"==typeof e.fn&&e.fn.call(i,t)})},isHandlers:function(){return!!this.handlers.length}},n.Observer=i.observer}(window,document,ShopneticEmbed),function(e,t){"use strict";var n=e.antc.utils,i=0;n.all={bindTo:function(e,t){return function(){return e.apply(t||null,arguments)}},getRandHash:function(){return Math.random().toString(16).substr(2)},getUniqueId:function(e){return""+(e||"")+ ++i},throttle:function(e,t){var n,i,r,o=null,a=0,s=function(){a=new Date,o=null,r=e.apply(n,i)};return function(){var c=new Date;a||(a=c);var l=t-(c-a);return n=this,i=arguments,l<=0?(clearTimeout(o),o=null,a=c,r=e.apply(n,i)):o||(o=setTimeout(s,l)),r}},debounce:function(e,t,n){var i,r,o,a,s;return function(){o=this,r=arguments,a=new Date;var c=function(){var l=new Date-a;l<t?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,r)))},l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(o,r)),s}},memoizeSimple:function(e){var t={};return function(n){var i=t[n];return void 0===i&&(i=e.apply(this,arguments),t[n]=i),i}},requestAnimationFrame:e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,cancelAnimationFrame:e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.msCancelAnimationFrame,parseQueryString:function(){var t=e.location.search,n={};return t.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,i,r){n[t]=r}),n}},void 0===n.all.requestAnimationFrame?n.all.requestAnimationFrame=function(e){"function"==typeof e&&e()}:n.all.requestAnimationFrame=n.all.bindTo(n.all.requestAnimationFrame,e),void 0===n.all.cancelAnimationFrame?n.all.cancelAnimationFrame=function(e){"function"==typeof e&&e()}:n.all.cancelAnimationFrame=n.all.bindTo(n.all.cancelAnimationFrame,e)}(window,document),function(e,t){"use strict";var n=e.antc.utils;n.location={};var i,r="URLSearchParams"in e;n.location={init:function(e){r?i=new URLSearchParams(e):(i={},e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,r){i[t]=r}))},reInit:function(e){this.init(e)},removeUtms:function(){if(-1!==e.location.search.indexOf("utm_")&&history.replaceState){var t=n.string.removeUtms(e.location.toString());history.replaceState({},"",t)}}},n.location.init(e.location.search),n.location.search={has:function(e){return r?i.get(e):i.hasOwnProperty(e)},get:function(e){return r?i.get(e):n.location.search.has(e)?i[e]:null}},n.observer.subscribe("locationChanged",function(){n.location.reInit(e.location.search)})}(window,document),function(e,t){"use strict";var n=e.antc,i=n.utils,r=Array.prototype.forEach;i.dom={elHtml:t.documentElement,elHead:t.head||t.getElementsByTagName("head")[0],elBody:t.body,query:function(e,n){n=n||t;var r=e.indexOf(":antc-parent"),o=e.indexOf(":antc-text"),a=e.indexOf(":antc-get"),s=e.indexOf("antc-order(");if(0===s){var c="antc-order(".length;e=e.substr(c,e.length-c-1)}if((-1!==r||-1!==o||-1!==a||0===s)&&-1!==e.indexOf(",")){for(var l=(e=e.trim().replace(/\s*,\s*/g,",")).split(","),d=null;l.length&&!(d=i.dom.query(l.shift(),n)););return d}if(-1!==r){var u=e.substr(r).replace(":antc-parent","").replace("(","").replace(")","");return e=e.substr(0,r),n.querySelector(e)&&(u?n.querySelector(e).closest(u):n.querySelector(e).parentNode)}if(-1!==o){var m=e.substr(o).replace(":antc-text","").replace("(","").replace(")","");return isNaN(m)||m<1?null:(m--,e=e.substr(0,o),n.querySelector(e).childNodes[m])}if(-1!==a){var f=e.substr(a).replace(":antc-get","").replace("(","").replace(")","");if(f=parseInt(f),isNaN(f)||f<1)return null;f--,e=e.substr(0,a);var h=n.querySelectorAll(e);return h.length&&void 0!==h[f]?h[f]:null}return n.querySelector(e)},createScript:function(e,n){(n=n||{}).context=n.context||i.dom.elHead,n.remove=n.remove||!1;var r=t.createElement("script");return r.src=e,r.charset="utf-8",r.async=n.async||!1,n.onload&&(r.onload=n.onload),n.onerror&&(r.onerror=n.onerror),n.context.appendChild(r),n.remove&&n.context.removeChild(r),r},createCss:function(e,n){n=n||i.dom.elHead;var r=t.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=e,r.media="all",n.appendChild(r)},contains:function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},getAncestors:function(e,t){for(var n=e,i=[],r=0;n&&(i.unshift(n),n=n.parentElement,!(t&&++r>t)););return i},getCommonAncestor:function(e){var t=this;if(i.array.is(e)||(e=[e]),0!==e.length){if(1===e.length)return e[0];var n=1e3,o=[];r.call(e,function(e){var i=t.getAncestors(e);o.push(i),n>i.length&&(n=i.length)});for(var a=o[0][0],s=1;s<n;s++){for(var c=!0,l=1;l<o.length;l++)if(o[l][s]!==o[l-1][s]){c=!1;break}if(!c)break;a=o[0][s]}return a}},getUniqueId:function(e){return i.all.getUniqueId("antc-"+e+"_")},getBoundingClientRect:function(e){var t=e.getBoundingClientRect();return{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:void 0!==t.width?t.width:t.right-t.left,height:void 0!==t.height?t.height:t.bottom-t.top}},getSize:function(e){return{width:0!==e.offsetWidth?e.offsetWidth:e.width,height:0!==e.offsetHeight?e.offsetHeight:e.height}},getComputedStyle:function(t,n){return e.getComputedStyle?e.getComputedStyle(t,n):t.currentStyle},getScrollTop:function(){return void 0!==e.pageYOffset?e.pageYOffset:(this.elHtml.clientHeight?this.elHtml:this.elBody).scrollTop},getDocumentWidthMax:function(){var e=[this.elHtml.clientWidth,this.elHtml.scrollWidth,this.elHtml.offsetWidth];return this.elBody&&(e=e.concat([this.elBody.scrollWidth,this.elBody.offsetWidth])),Math.max.apply(Math,e)},getDocumentHeightMax:function(){var e=[this.elHtml.clientHeight,this.elHtml.scrollHeight,this.elHtml.offsetHeight];return this.elBody&&(e=e.concat([this.elBody.scrollHeight,this.elBody.offsetHeight])),Math.max.apply(Math,e)},getMaxZIndex:function(e){e.id||(e.id=this.getUniqueId("maxzindex"));var n=t.querySelectorAll("#"+e.id+" > *");n=[].slice.call(n).push(e);for(var i,r=0;n.length;)"static"!==(i=this.getComputedStyle(n.pop(),null)).position&&"auto"!==i["z-index"]&&parseInt(i["z-index"])>r&&(r=parseInt(i["z-index"]));return r},watchElementVisible:function(e,t,r,o){var a;t=t||.01;var s=!1;if(n.settings.isIntersectionObserver)(a=new IntersectionObserver(function(e,n){if(e.length){var i=e[0];i.intersectionRatio>=t?(s||(r(),s=!0),o||(n.unobserve(i.target),a.disconnect())):s&&(o&&o(),s=!1)}},{threshold:[t,1]})).observe(e);else if(n.settings.isIframe&&!n.settings.isIframeSameOrigin){var c;a=i.observer.subscribe("fpsChecker",function(e){e.params.isInView&&(s||(r(),s=!0),o?(c&&clearTimeout(c),s&&(c=setTimeout(function(){s&&(o(),s=!1)},300))):i.observer.unsubscribe(a))})}else i.dom.isElementVisiblePercent(e,t)&&(s||(r(),s=!0)),a=i.observer.subscribe("windowScroll",function(){i.dom.isElementVisiblePercent(e,t)?(s||(r(),s=!0),o||i.observer.unsubscribe(a)):s&&(o&&o(),s=!1)});return a},unwatchElementVisible:function(e){n.settings.isIntersectionObserver?e instanceof IntersectionObserver&&e.disconnect():i.observer.unsubscribe(e)},isRectVisiblePercent:function(t,n){var r=e.innerHeight||i.dom.elHtml.clientHeight,o=n?t.height*(1-n):t.height,a=t.top+o,s=t.bottom-o;return a>0&&s<r},isElementVisiblePercent:function(e,t){var n=this.getBoundingClientRect(e);return this.isRectVisiblePercent(n,t)},getImageSrcSet:function(e){var t=e.getAttribute("srcset");if(!t)return[];var n=/^\d+$/,i=[],o=t.split(",");return r.call(o,function(e){var t=e.trim().replace(/\s+/g," ").split(/\s/),r={url:t[0]},o=t[1],a=o.substr(-1);o=o.substr(0,o.length-1);var s=parseInt(o,10),c=parseFloat(o);"w"===a&&n.test(o)?r.width=s:"h"===a&&n.test(o)?r.height=s:"x"!==a||function(e){return"number"==typeof e&&isNaN(e)}(c)||(r.density=c),i.push(r)}),i},getHtml:function(e){var n=t.createElement(e.tagName);return n.appendChild(e.cloneNode(!0)),n.innerHTML},setHtml:function(e,t){e.innerHTML=t},getText:function(e){return e.textContent||e.innerText},setText:function(e,t){3===e.nodeType?e.nodeValue=t:void 0!==e.textContent?e.textContent=t:e.innerText=t},getNextSibling:function(e){do{e=e.nextSibling}while(e&&1!==e.nodeType);return e},getPreviousSibling:function(e){do{e=e.previousSibling}while(e&&1!==e.nodeType);return e},cloneScriptNode:function(e){for(var n=e.attributes,r=t.createElement("script"),o=0;o<n.length;o++)r.setAttribute(n[o].name,n[o].value);return i.dom.setText(r,i.dom.getText(e)),r},scriptsRun:function(e){var t=e.querySelectorAll("script");r.call(t,function(e){if(!i.css.classList.has(e,"antc__embed-script--loaded")){var t=e.parentNode,n=i.dom.cloneScriptNode(e);t.insertBefore(n,e),t.removeChild(e),i.css.classList.add(n,"antc__embed-script--loaded")}})}}}(window,document),function(e,t){"use strict";var n=e.antc.utils;n.css=n.css||{};var i="classList"in t.createElement("div");n.css.classList={add:function(e,t){i?e.classList.add(t):this.has(e,t)||(e.className+=" "+t)},remove:function(e,t){if(i)e.classList.remove(t);else{var n=e.className.trim().replace(/\s+/g,"  ");n=(" "+n+" ").replace(new RegExp(" "+t+" ","gi"),""),e.className=n.trim().replace(/\s+/g," ")}},has:function(e,t){return i?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},toggle:function(e,t){i?e.classList.toggle(t):this.has(e,t)?this.remove(e,t):this.add(e,t)}},n.css.class=n.css.classList}(window,document),function(e,t){"use strict";var n=e.antc.utils;n.array={is:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},flattenDeep:function(e){return e.reduce(function(e,t){return Array.isArray(t)?e.concat(n.array.flattenDeep(t)):e.concat(t)},[])}}}(window,document),function(e,t){"use strict";var n=e.antc.utils;n.cookie={get:function(e,n){var i=t.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return i?decodeURIComponent(i[1]):n},set:function(e,i,r){var o=(r=n.object.assign({secure:!0,samesite:"none"},r||{})).expires;if("number"==typeof o&&o){var a=new Date;a.setTime(a.getTime()+1e3*o),o=r.expires=a}o&&o.toUTCString&&(r.expires=o.toUTCString());var s=e+"="+(i=encodeURIComponent(i));for(var c in r)if(r.hasOwnProperty(c)){s+="; "+c;var l=r[c];!0!==l&&(s+="="+l)}t.cookie=s},remove:function(e){this.set(e,"",{expires:-1})}}}(window,document),function(e,t){"use strict";var n=e.antc,i=n.utils,r=function(){var t=n.noop;try{return e.addEventListener("test",t,{passive:!0}),e.removeEventListener("test",t,{passive:!0}),!0}catch(e){return!1}}();i.event={addListener:function(e,t,n,o){t=i.event._getEventName(t),e.addEventListener?(void 0===i.object.get(o,"passive")||r||delete o.passive,e.addEventListener(t,n,o)):e.attachEvent("on"+t,n)},removeListener:function(e,t,n,r){t=i.event._getEventName(t),e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)},getWhich:function(e){var t=e.which;return!t&&e.button&&(1&e.button?t=1:4&e.button?t=2:2&e.button&&(t=3)),t},_getEventName:function(e){switch(e){case"wheel":e="onwheel"in t?"wheel":"onmousewheel"in t?"mousewheel":"MozMousePixelScroll"}return e}}}(window,document),function(e){"use strict";var t=e.antc.utils;t.string={replace:function(e,n){if(void 0===n)return e;var i=t.object.keys(n);if(!i.length)return e;for(var r=0;r<i.length;r++)i[r]=this.escapeRegExp(i[r]);var o=new RegExp(i.join("|"),"g");try{e=e.replace(o,function(e){return n[e]})}catch(e){}return e},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},removeUtms:function(e){return e.replace(/([?&])(utm_click|utm_ab|predict)=([^&]*|$)/g,"").replace(/\?{2,}/,"?").replace(/&{2,}/,"&").replace(/\?&/,"?").replace(/[?&]$/,"")}}}(window),function(e){"use strict";var t=e.antc.utils;t.object={is:function(e){return"[object Object]"===Object.prototype.toString.call(e)},get:function(e,t,n){if(void 0===e)return n;var i=t.split("."),r=e;try{for(;i.length;)r=r[i.shift()]}catch(e){return n}return void 0===r||r===e?n:r},keys:Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},isEmpty:function(e){if(null===e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},serialize:function(e,n,i){var r=[];for(var o in i=i||!1,e)if(e.hasOwnProperty(o)){var a,s,c=e[o];a=i?n?n+"[]":o:n?n+"["+o+"]":o,void 0!==c&&(s=null!==c&&"object"==typeof c?t.object.serialize(c,a,t.array.is(c)):encodeURIComponent(a)+"="+encodeURIComponent(c),r.push(s))}return r.join("&")},assign:Object.assign||function(e,t){for(var n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}}(window),function(e){"use strict";var t=e.antc.utils,n=Date.now||function(){return(new Date).getTime()};if(t.performance={},"performance"in e&&(t.performance=e.performance),!("now"in t.performance)){var i=n();t.performance.timing&&t.performance.timing.navigationStart&&(i=t.performance.timing.navigationStart),t.performance.now=function(){return n()-i}}}(window),function(e,t){"use strict";var n=e.antc,i=n.settings,r=n.utils;n.track={trackCode:function(e,t){t=t||"antc.track.trackCodeResponse";var o=i.url.base+"api/rtb/track/"+e+"/show?callback="+t,a=!r.object.isEmpty(i.utm)&&r.object.serialize(i.utm)||"";""!==a&&(o+="&"+a),n.track.sendJs(o);var s="base";2==e&&(s="ico"),r.ga.init(s)&&n.track.ga(s,e)},trackCodeResponse:function(e){var n=r.object.get(e,"hosts");if(n&&r.array.is(n)){var i="";if([].forEach.call(n,function(e){i+=r.object.get(e,"data.script","")}),i=i.trim()){var o=t.createElement("script");o.charset="utf-8",r.dom.setText(o,i);var a=t.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)}}},trackCodeResponseWatcher:function(i,r){for(var o in i){if(!i.hasOwnProperty(o))return;try{i[o]=t.querySelectorAll(i[o].join(", "))}catch(e){delete i[o]}}n.module.get("sWatcher").then(function(t){for(var o in i)if(i.hasOwnProperty(o)&&r[o])for(var a=0;a<i[o].length;a++)!function(o,a){t.create(i[o][a],{isEnterLeave:!1,onAction:function(t){if("click"===t){var i="antcSWatcher_"+o+a;e[i]=e[i]||n.track.trackCodeResponse,n.track.trackCode(r[o],i)}}})}(o,a)})},ga:function(e,t){if(!s("ga",arguments)){var n=i.ga[e].options.name;ga(n+".send","event",{eventCategory:"trackCode",eventAction:t})}},ecommerce:function(e,t,i){s("ecommerce",arguments)||n.module.get("ecommerce").then(function(n){n.track(e,t,i)})},storyDestroy:function(){if(n._storyEngagementsInstance&&"function"==typeof n._storyEngagementsInstance.destroy&&(n._storyEngagementsInstance.destroy(),delete n._storyEngagementsInstance),n._storyProductsInstance){var e=r.object.keys(n._storyProductsInstance);[].forEach.call(e,function(e){n._storyProductsInstance[e]&&"function"===n._storyProductsInstance[e].destroy&&(n._storyProductsInstance[e].destroy(),delete n._storyProductsInstance[e])}),delete n._storyProductsInstance}n._storyQuizInstance&&delete n._storyQuizInstance,n.storyQuiz&&delete n.storyQuiz},story:function(i,o){n.track.storyDestroy(),i=i||'[data-widget="article"]',o=o||r.location.search.get("id");var a=0;if(!o&&-1!==e.location.host.indexOf("ozon.ru")){var s=e.location.href.match(/\/club\/article\/[^/]+-(\d+)\/?/);s&&s[1]&&(o=s[1],a=1)}var c=i;if("string"==typeof c&&(c=t.querySelector(c)),c&&"object"==typeof c&&void 0!==c.nodeType){if(o){var l=n.settings.url.base+"api/rtb/story/"+o+"?callback=antc.noop";l&&(l+="&shopId="+a),n.utils.dom.createScript(l,{async:!0}),n.module.get("storyEngagements").then(function(e){n._storyEngagementsInstance=e.create({container:c,storyId:o,shopId:a})})}var d=c.querySelectorAll('a[target="_self"]');if(d&&d.length){d=[].slice.call(d);var u=[];d.forEach(function(e){if(/\/product\//.test(e.href)||/\/context\/detail\//.test(e.href)){var t=e.href.match(/(\d{5,})(\/$|\/?|$)/);if(t&&t[1]){var n=t[1];u.push({container:e.parentNode,productId:n})}}}),d=void 0,u&&u.length&&(o&&n.module.get("storyProduct").then(function(e){n._storyProductsInstance=n._storyProductsInstance||{},u.forEach(function(t){n._storyProductsInstance[t.productId]=e.create({container:t.container,storyId:o,productId:t.productId,feedId:1,shopId:a})})}),n._storyQuizInstance=[],u.forEach(function(e){n._storyQuizInstance.push(e.container)}),n.module.get("storyQuiz").then(function(e){e.init()}))}}},sendJs:function(e,t){s("sendJs",arguments)||r.dom.createScript(e,{async:!0,remove:!0,context:t})},sendImg:function(e){s("sendImg",arguments)||(e=r.string.replace(e,{":random:":r.all.getRandHash()}),(new Image).src=e)},sendIframe:function(e){e=r.string.replace(e,{":random:":r.all.getRandHash()});var n=t.createElement("iframe");n.scrolling="no",n.frameborder=0,n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.width=0,n.height=0,n.src=i.url.base+"api/rtb/dmp/iframe?url="+encodeURIComponent(e),r.dom.elBody.appendChild(n)},sendHtml:function(e,t){s("sendHtml",arguments)||((t=t||r.dom.elBody).insertAdjacentHTML("beforeend",e),r.dom.scriptsRun(t,""))}};var o=!1,a=[];function s(t,i){return!!o&&("function"==typeof(t=r.object.get(e,"antc.track."+t))&&a.push(function(){t.apply(n.track,i)}),!0)}var c=[],l=!1;function d(){if(!l){for(l=!0,o=!1;c.length;){var e=c.shift();r.observer.unsubscribe(e)}!function(){if(a&&0!==a.length)for(;a.length;)a.shift()()}()}}o&&(i.isDesktop?c.push(r.observer.subscribe("mousemove",function(){d()})):c.push(r.observer.subscribe("windowScroll",function(){d()})))}(window,document),function(e,t){"use strict";var n=e.antc,i=(n.settings,n.utils),r=function(){if(o)return;o=!0;var e=t.createElement("div");return e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",i.dom.elBody.appendChild(e),e}();i.statIframe={init:function(){var e=t.createElement("iframe");return e.scrolling="no",e.frameborder=0,e.width=0,e.height=0,e.referrerPolicy="unsafe-url",e.style.position="absolute",r.appendChild(e),{getWindow:function(){return e.contentWindow},getDocument:function(){return e.contentDocument},getBody:function(){return e.contentDocument.body},destroy:function(){try{r.removeChild(e)}catch(e){}e=void 0}}}};var o=!1}(window,document),function(e,t){"use strict";var n=e.antc,i=n.settings.ga,r=n.utils;r.ga={setOptions:function(e,t){r.object.assign(i[e].options,t||{})},init:function(n){return!!i.enable&&(!!i[n=n||"base"]&&(!!i[n].init||(i[n].init=!0,function(){if(o)return;o=!0,n=e,i=t,r="script",a="ga",n.GoogleAnalyticsObject=a,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,s=i.createElement(r),c=i.getElementsByTagName(r)[0],s.async=1,s.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(s,c);var n,i,r,a,s,c}(),ga("create",i[n].options),r.ga.pageView(n),!0)))},pageView:function(t){var n=i[t=t||"base"].options.name;ga(n+".send","pageview",{dimension1:e.location.hostname,hitCallback:r.location.removeUtms})},ga:function(e,n,o,a,s,c){if(e=e||"base",r.ga.init(e)){var l=i[e].events;if(l[n]){var d=l[n].events&&l[n].events[o];if(d&&d[0]){var u=l[n].params&&ShopneticHelper.cloneSimple(l[n].params)||{};for(var m in d[3]&&r.object.keys(d[3]).length>0&&ShopneticHelper.extendSimple(u,d[3]),s=s||{},u)if(u.hasOwnProperty(m)){var f=u[m];ShopneticHelper.replaceField(f,s,function(e){e?u[m]=e:delete u[m]})}c=void 0===c||c;var h={eventCategory:n,eventAction:d[0],eventLabel:d[1]||void 0,eventValue:a||d[2]||void 0};if(void 0!==u.outbound){if(u.outbound&&u.outboundUrl){var p=u.outboundUrl;h.transport="beacon",h.hitCallback=function(){t.location=p},delete u.outboundUrl}delete u.outbound}0;var g=i[e].options.name,v=u&&r.object.keys(u).length>0;if(v&&ga(g+".set",u),ga(g+".send","event",h),v&&c){var y=ShopneticHelper.cloneSimple(u);for(var m in u)u.hasOwnProperty(m)&&(y[m]=null);ga(g+".set",y)}return!0}}}}};var o=!1}(window,document),function(e,t){"use strict";var n=e.antc,i=n.settings.gtag,r=n.utils;r.gtag={statObj:{ozon:void 0,seller:void 0},init:function(e){return!!i.enable&&(!!i[e].init||(i[e].init=!0,r.gtag.statObj[e]=r.statIframe.init(),r.gtag.script(e),r.gtag.pageView(e),!0))},pageView:function(e){r.gtag.gtag(e,"page_view")},gtag:function(e,t,n){if(r.gtag.init(e)){var o=i[e].options.id,a=r.object.assign({send_to:o},n||{});r.gtag.statObj[e].getWindow().gtag("event",t,a)}},script:function(e){var t=i[e].options.id,n=this.statObj[e].getWindow(),r=this.statObj[e].getDocument(),o=r.createElement("script");o.src="https://www.googletagmanager.com/gtm.js?id="+t,r.body.appendChild(o),n.dataLayer=n.dataLayer||[],n.gtag=function(){n.dataLayer.push(arguments)},n.gtag("js",new Date),n.gtag("config",t)}}}(window,document),function(e,t){"use strict";var n=e.antc,i=n.settings.fb,r=n.utils;r.fb={statObj:{ozon:void 0,seller:void 0},init:function(e){if(!i.enable)return!1;if(i[e].init)return!0;return i[e].init=!0,this.statObj[e]=r.statIframe.init(),r.fb.script(e),r.fb.pageView(e),!0},pageView:function(e){this.statObj[e]&&this.statObj[e].getWindow().fbq("track","PageView")},fbq:function(e,t,n,i){r.fb.init(e)&&this.statObj[e]&&this.statObj[e].getWindow().fbq(t,n,i)},script:function(e){var t,n,r,o,a=this.statObj[e].getWindow(),s=this.statObj[e].getDocument();n=s,(t=a).fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(o=n.createElement("script")).async=!0,o.src="https://connect.facebook.net/en_US/fbevents.js",s.body.appendChild(o)),a.fbq("init",i[e].options.id)}}}(window,document),function(e){"use strict";var t,n=e.antc,i=(n.settings,n.utils),r=i.all.bindTo,o=(t={},{addListener:r(i.event.addListener,i.event),removeListener:r(i.event.removeListener,i.event),setText:r(i.dom.setText,i.dom),getComputedStyle:r(i.dom.getComputedStyle,i.dom),isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},isArray:i.array.is,extendSimple:i.object.assign,cloneSimple:function(e){return this.isObject(e)?this.isArray(e)?e.slice():this.extendSimple({},e):e},replaceField:function(e,t,n){"string"==typeof e&&"@"===e.slice(0,1)&&e.replace(/^@([\w+.{0,1}]+)/g,function(e){e=e.slice(1,e.length),n(t[e]||void 0)})},readyPromise:function(e){var t=this;return new i.Promise(function(n,i){e.name||e.checkFn?t.readyPromiseResolver(e,n,i):i()})},readyPromiseResolver:function(e,n,i){var r=this,o=e.name,a=e.checkFn,s=!0;!1!==e.isDelayProgressive&&!0!==e.isDelayProgressive||(s=e.isDelayProgressive);var c=e.maxIterate||10,l=e.delay||10;t[o]=t[o]||{counter:0};var d,u=t[o];s&&u.counter>2&&(l=(u.counter-1)*l),u.timeout&&clearTimeout(u.timeout);try{d=a()}catch(e){d="__EXCEPTION__"}if(d&&"__EXCEPTION__"!==d)return delete t[o],void n(d);"__EXCEPTION__"===d||++u.counter>=c?(delete t[o],i()):u.timeout=setTimeout(function(){r.readyPromiseResolver(e,n,i)},l)},wSet:n.noop});o.Promise=i.Promise,e.ShopneticHelper=o}(window),function(e,t,n,i){"use strict";var r=e.antc,o=r.utils;r.settings;n.embedPrepare=function(){var t,a;return{init:function(){r.loaded=!0,o.event.addListener(e,"load",s),o.location.search.has("adnetic_setup")?n.embedPrepare.setupStart():(n.embedPrepare.configStoryReady(),n.embedPrepare.configTeasersReady())},reinit:function(){o.event.removeListener(e,"load",s),r.teaser.reload()},configTeasersReady:function(){i.readyPromise({name:"configTeasersReady",checkFn:function(){return!1===t||!!n.teasersConfig},isDelayProgressive:!1,maxIterate:200}).then(function(){!1!==t&&n.teasersConfig&&r.teaser.create([].slice.call(n.teasersConfig))})},configStoryReady:function(){i.readyPromise({name:"configStoryReady",checkFn:function(){return!1===a||!!n.storyConfig},isDelayProgressive:!1,maxIterate:200}).then(function(){!1!==a&&n.storyConfig&&r.story.add(n.storyConfig)}).catch(r.noop)},configTeasersTimeoutClear:function(){t&&clearTimeout(t),t=!1},configStoryTimeoutClear:function(){a&&clearTimeout(a),a=!1},setupStart:function(){n.setup.categoryId=o.location.search.get("adnetic_setup"),r.module.get("setup")}};function s(){n.embedPrepare.configTeasersTimeoutClear(),n.embedPrepare.configStoryTimeoutClear()}}(),n.wSet=r.noop}(window,document,ShopneticEmbed,ShopneticHelper),function(e){"use strict";var t=e.antc,n=t.utils,i=n.all.memoizeSimple(function(t){return n.object.get(e,t)});t.run=function(){if(arguments.length){var e=i(arguments[0]);return e?e.apply(null,[].slice.call(arguments,1)):void 0}}}(window),function(e,t){"use strict";var n=e.antc,i=n.utils,r=n.settings,o=r.url.embed+"css/embed/{moduleName}.css?v="+n.version,a=r.url.embed+"js/embed/{moduleName}.js?v="+n.version;n.module={get:function(e){n.modules[e]=n.modules[e]||{};var t=n.modules[e];return t.isLoad?i.Promise.resolve(n[e]):(t.isLoading||(t.isLoading=!0,this.loadCss(e),this.loadScript(e)),ShopneticHelper.readyPromise({name:i.all.getUniqueId("getModule"+e),checkFn:function(){return t.isLoad&&n[e]},isDelayProgressive:!1,maxIterate:100}))},loadCss:function(e){var t=n.modules[e];i.object.get(t,"isCss",!0)&&i.dom.createCss(this._getCssUrl(t.sourceName||e))},loadScript:function(e){var t=n.modules[e];i.dom.createScript(this._getJsUrl(t.sourceName||e),{async:!1})},isLoad:function(e){return n.modules[e]&&n.modules[e].isLoad||!1},doneLoad:function(e){n.modules[e]=n.modules[e]||{},n.modules[e].isLoad=!0},_getCssUrl:function(e){return i.string.replace(o,{"{moduleName}":e})},_getJsUrl:function(e){return i.string.replace(a,{"{moduleName}":e})}}}(window,document),function(e,t,n,i){"use strict";var r=e.antc,o=r.utils,a=r.settings,s=o.object.get,c=[];r.teaser=r.teaser||{},r.teaser._reloadPause=r.teaser._reloadPause||5e3,i.extendSimple(r.teaser,{_categories:{},contentUrl:a.url.base+"api/rtb/teaser?callback=antc.teaser.onResponse",init:function(){var e=r.teaser;if(n.teasersConfig=[],n.embedPrepare.configTeasersTimeoutClear(),e._categories&&!o.object.isEmpty(e._categories)){for(var t in e._categories)e._categories.hasOwnProperty(t)&&"function"==typeof e._categories[t].destroy&&e._categories[t].destroy();e._categories={}}o.ga.init()},create:function(e){r.teaser.init(),r.teaser.add(e)},add:function(e){void 0!==n.teasersConfig&&o.array.is(n.teasersConfig)||r.teaser.init(),o.array.is(e)||(e=[e]);for(var t=0;t<e.length;t++)o.object.is(e[t])||(e[t]={categoryId:e[t]}),e[t].categoryId&&(n.teasersConfig.push(e[t]),c.push({id:e[t].categoryId,brandId:e[t].brandId||void 0}));o.location.search.has("adnetic_setup")?c=[]:r.teaser._addAfter()},reload:function(){r.teaser._reloadContent()},reloadThrottle:o.all.throttle(function(){r.teaser._reloadContent()},r.teaser._reloadPause),onResponse:function(e){r.module.get("teaser").then(function(t){t.onResponse(e)})},onError:function(){r.module.get("teaser").then(function(e){e.onError()})},_addAfter:o.all.debounce(function(){r.teaser._loadStackContent(),r.module.isLoad("teaser")||r.module.get("teaser")},10),_loadStackContent:function(){if(c.length){var e={limit:c.length,categoryIds:[]};[].forEach.call(c,function(t){e.categoryIds.push(t.id),t.brandId&&(e.brandId=t.brandId)}),c=[],r.teaser._runContent(e)}},_reloadContent:function(){var e=r.teaser;if(o.array.is(n.teasersConfig)&&0!==n.teasersConfig.length){var t={limit:n.teasersConfig.length,categoryIds:[]};[].forEach.call(n.teasersConfig,function(n){n.categoryId&&(e._categories&&e._categories[n.categoryId]&&!e._categories[n.categoryId].isReinitNeed()||(n.brandId&&(t.brandId=n.brandId),t.categoryIds.push(n.categoryId)))}),e._runContent(t)}},_runContent:function(e){var t=r.teaser;t._populatePreviewParams(e).then(t._runContentScript)},_runContentScript:function(e){var t=r.teaser;o.dom.createScript(t.contentUrl+"&"+o.object.serialize(e),{async:!1,onerror:o.all.bindTo(t.onError,t)})},_populatePreviewCurrent:function(){var t=r.teaser,n=o.location.search.get("adnetic_preview"),i=o.location.search.get("adnetic_preview_id"),s=o.location.search.get("adnetic_preview_selection");if(t.preview=t.preview||{},n&&(t.preview.categoryId=n,s&&(t.preview.isSelection=s)),i&&(t.preview.teaserId=i),a.isIframeSameOrigin){var c=o.object.get(e,"parent.antc.teaser.preview");c&&c.categoryId&&(t.preview=c)}return o.Promise.resolve(t.preview)},_populatePreviewParams:function(t){return r.teaser._populatePreviewCurrent().then(function(){if(r.settings.isIframe&&!r.settings.isIframeSameOrigin&&r.settings.isPostMessage){var t=JSON.stringify({action:"antc:ping"});e.top.postMessage(t,"*")}}).then(function(){return t.preview=parseInt(s(r,"teaser.preview.categoryId")),t.previewId=parseInt(s(r,"teaser.preview.teaserId")),isNaN(t.preview)&&delete t.preview,isNaN(t.previewId)&&delete t.previewId,t}).catch(function(){return t})}})}(window,document,ShopneticEmbed,ShopneticHelper),function(e,t,n,i){"use strict";var r=e.antc,o=r.utils;r.settings;r.story={init:function(){n.storyConfig={},n.embedPrepare.configStoryTimeoutClear(),o.ga.setOptions("base",{sampleRate:100}),o.ga.init()},add:function(e){if(void 0!==n.storyConfig&&o.object.is(n.storyConfig)||r.story.init(),e.text){var i=t.querySelector(".shopnetic-embed"),a=!1;o.location.search.has("authorized")&&(a=!0),n.storyConfig=e,(n.storyConfig||i||a)&&r.story._addAfter()}},_addAfter:o.all.debounce(function(){r.module.get("story"),r.module.get("modals")},10)}}(window,document,ShopneticEmbed,ShopneticHelper),function(e,t,n){"use strict";var i,r=e.antc,o=r.settings,a=r.utils,s=a.observer,c=s.subscribe("documentReady",function(){s.unsubscribe(c),o.ready.document=!0,t.ready=t.ready||{},t.ready.document=o.ready.document,a.dom.elHtml=document.documentElement,a.dom.elHead=document.head||document.getElementsByTagName("head")[0],a.dom.elBody=document.body,o.ab.value=parseInt(a.cookie.get(o.ab.cookieName,o.ab.value));var n=a.location.search.get(o.ab.locationName);n&&n.length&&(o.ab.value=parseInt(n),a.cookie.set(o.ab.cookieName,o.ab.value,{expires:3600}));var i=a.location.search.get([o.click.locationName]);i&&i.length&&(o.click.value=parseInt(i));var l=a.location.search.get([o.predict.locationName]);l&&l.length&&(o.predict.value=l);for(var d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","adnetic_teaser_id"];d.length;){var u=d.shift();o.isHtml5Storage&&(o.utm[u]=localStorage.getItem("antc."+u)||void 0);var m=a.location.search.get(u);null!==m&&(o.utm[u]=m,o.isHtml5Storage&&localStorage.setItem("antc."+u,m))}if(o.isMSIE&&o.isMSIE<9)for(var f="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video antctag".split(" ");f.length;)document.createElement(f.shift());!function(){if(!r.q||0===r.q.length)return;for(;r.q.length;)r.run.apply(null,r.q.shift())}(),t.embedPrepare.init(),setTimeout(function(){!function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.getElementsByTagName("body")[0].appendChild(e);var t=document.createElement("iframe");t.src=o.url.base+"api/rtb/dmp/sync",e.appendChild(t),t.onload=function(){e.parentNode.removeChild(e)}}(),-1!==e.location.host.indexOf("ozon.ru")&&/\/club\/article\//.test(e.location.href)&&r.track.story()},1e3)});i||(i=s.subscribe("locationChanged",function(t){r.teaser.reloadThrottle(),t&&t.params&&-1!==e.location.host.indexOf("ozon.ru")&&(/\/club\/article\//.test(t.params.newHref)?r.track.story():/\/club\/article\//.test(t.params.lastHref)&&r.track.storyDestroy()),o.ga.base.init&&a.ga.pageView(),o.fb.ozon.init&&a.fb.pageView("ozon"),o.gtag.seller.init&&a.gtag.pageView("seller")})),function(){var t=a.all.throttle(function(t){t=t||e.event,s.fire("mousemove",{event:t})},250);s.emitterAdd("mousemove",function(){a.event.addListener(document,"mousemove",t)},function(){a.event.removeListener(document,"mousemove",t)});var n=a.all.throttle(function(t){t=t||e.event,s.fire("windowScroll",{event:t,params:{scrollTop:a.dom.getScrollTop()}})},250);s.emitterAdd("windowScroll",function(){a.event.addListener(e,"scroll",n,{passive:!0})},function(){a.event.removeListener(e,"scroll",n)});var i=function(t){t=t||e.event,s.fire("windowResize",{event:t})};s.emitterAdd("windowResize",function(){a.event.addListener(e,"resize",i)},function(){a.event.removeListener(e,"resize",i)});var r,o,c,l,d,u,m,f=function(t){t=t||e.event;var n=e.event?t.which:t.keyCode;s.fire("documentKeydown",{event:t,params:{keyCode:n}})};function h(e){(e||r)&&(r&&clearTimeout(r),s.fire("oneTick"),r=setTimeout(h,1e3))}function p(e){(e||m)&&(m&&clearTimeout(m),document.body?s.fire("documentReady"):m=setTimeout(p,10))}s.emitterAdd("documentKeydown",function(){a.event.addListener(document,"keydown",f)},function(){a.event.removeListener(document,"keydown",f)}),s.emitterAdd("oneTick",function(){h(!0)},function(){r&&clearTimeout(r)}),s.emitterAdd("fpsChecker",function(){var e,t;o=a.all.requestAnimationFrame(function n(){e||(e=a.performance.now(),t=0),a.performance.now()-e<=1e3?t++:(e=a.performance.now(),t=0),s.fire("fpsChecker",{params:{isInView:t>=10,fps:t}}),o=a.all.requestAnimationFrame(n)})},function(){o&&a.all.cancelAnimationFrame(o)}),s.emitterAdd("documentSizeChanged",function(){var e,t,n,i;n=a.dom.getDocumentWidthMax(),i=a.dom.getDocumentHeightMax(),c=function(){t=a.dom.getDocumentWidthMax(),e=a.dom.getDocumentHeightMax(),n===t&&i===e||(s.fire("documentSizeChanged",{params:{newWidth:t,newHeight:e,lastWidth:n,lastHeight:i,scrollTop:a.dom.getScrollTop()}}),n=t,i=e)},l||(l=s.subscribe("oneTick",function(){c()}))},function(){c=void 0,s.unsubscribe(l)}),s.emitterAdd("locationChanged",function(){var t,n;n=e.location.href,d=function(){var i=e.location;t=i.href,n!==t&&(s.fire("locationChanged",{params:{location:i,newHref:t,lastHref:n}}),n=t)},u||(u=s.subscribe("oneTick",function(){d()}))},function(){d=void 0,s.unsubscribe(u)}),s.emitterAdd("documentReady",function(){p(!0)},function(){m&&clearTimeout(m)}),a.event.addListener(e,"load",function(){m&&clearTimeout(m)})}()}(window,ShopneticEmbed,ShopneticHelper),function(e,t,n,i){"use strict";var r=e.antc,o=r.utils,a=r.settings,s=o.object.get,c="shopnetic-unvisible",l="shopnetic-undisplay";function d(e,t){this.id=s(e,"id"),this.isReinit=s(e,"data.isReinit",!0),this.isPoweredIcon=s(e,"data.isPoweredIcon",!1),this.isVideo=s(e,"data.isVideo",!1),this.isFavicon=s(e,"data.isFavicon",!1),this.isWatcher=s(e,"data.isPredict",!0),this.selectors=s(e,"data.selectors"),this.data={video:s(e,"data.video",{}),cta:{code:s(e,"data.cta.code","")},poweredIcon:s(e,"data.poweredIcon",{})},t=t||{},this.events=t.events||{},this.loaded=!1,this.id&&this.init(t)}function u(e,t,n){t=t||{},n=n||{},this.id=s(t,"id"),this.isPlaced=!1,this.isReplaceNative=!1,this.content=t.content||{},this.brand=t.brand||{title:"Adnetic"},this.trackers=t.trackers||{},this.elements=e||{},this.elementsFlat=[],this.isClickIn=!!s(this.content,"collection_id",!1),this.link=this.content.url,this.isTurbo=s(this.content,"data.isTurbo",!1),this.isInstall="infeed_install"===this.content.type,this.installRatingStars="",this.isPoweredIcon=n.isPoweredIcon,this.poweredIcon=n.poweredIcon,this.isFavicon=n.isFavicon,this.isVideo=n.isVideo,this.video=n.video,this.cta=n.cta,this.powered=[],this.id&&this.contentInvoke()}r.categoryFactory={create:function(e,t){return new d(e,t)},_constructor:d},r.teaserFactory={create:function(e,t,n){return new u(e,t,n)},_constructor:u},i.extendSimple(r.teaser,{trans:{},onResponse:function(e){var t=this;if(!a.ready.document)return i.readyPromise({name:"teaserOnResponse",checkFn:function(){return a.ready.document},maxIterate:20,isDelayProgressive:!1}).then(function(){t.contentInvoke(e)});t.contentInvoke(e)},onError:function(){var e=[];[].forEach.call(n.teasersConfig,function(t){t.hasOwnProperty("categoryId")&&e.push(parseInt(t.categoryId))});for(var t=o.object.keys(this._categories);t.length;){var i=parseInt(t.shift());-1===e.indexOf(i)&&this.categoryDestroy(i)}},contentInvoke:function(e){this.trans=e.trans||{};for(var t,i=[],a=0;a<n.teasersConfig.length;a++)if(t=n.teasersConfig[a],i[a]=parseInt(t.categoryId),e.categories&&e.categories[t.categoryId]){var s={};e.teasers&&e.teasers[t.categoryId]&&(s.teasers=e.teasers[t.categoryId]),t.events&&(s.events=t.events),this._categories[t.categoryId]?this._categories[t.categoryId].reInit(s):this._categories[t.categoryId]=r.categoryFactory.create(e.categories[t.categoryId],s)}for(var c=o.object.keys(this._categories);c.length;){var l=parseInt(c.shift());-1===i.indexOf(l)&&this.categoryDestroy(l)}},categoryDestroy:function(e){if(this._categories[e]&&(this._categories[e].destroy(),delete this._categories[e]),n.teasersConfig)for(var t=0;t<n.teasersConfig.length;t++){var i=n.teasersConfig[t];if(i.categoryId&&i.categoryId==e){n.teasersConfig.splice(t,1);break}}r.teaser.preview={}},categoryClear:function(e){this._categories[e]&&this._categories[e].clear()},createElement:function(e,n){if("replaceContent"===n.method)return e.innerHTML=n.code,e;var i=t.createElement("antctag");if(i.className="antc__created-wrapper",i.innerHTML=n.code.trim(),1===i.childNodes.length&&1===i.firstChild.nodeType&&(i=i.firstChild),"replace"===n.method)return e.parentNode.replaceChild(i,e),i;var r="beforebegin";switch(n.method){case"insertAfter":r="afterend";break;case"append":r="beforeend"}return e.insertAdjacentElement(r,i),i},setUnvisible:function(e){o.array.is(e)||(e=[e]),[].forEach.call(e,function(e){1!==e.nodeType&&(e=t.getElementById(e.source)),e&&o.css.classList.add(e,c)})},setVisible:function(e){o.array.is(e)||(e=[e]),[].forEach.call(e,function(e){1!==e.nodeType&&(e=t.getElementById(e)),e&&o.css.classList.remove(e,c)})},setUndisplay:function(e){o.array.is(e)||(e=[e]),[].forEach.call(e,function(e){1!==e.nodeType&&(e=t.getElementById(e)),e&&o.css.classList.add(e,l)})},setVisibilityVisible:function(e){o.array.is(e)||(e=[e]);var t="";if([].forEach.call(e,function(e){e&&(1!==e.nodeType?t+="#"+e:t+="#"+e.id,t+=",")}),t){var n=(t=t.substr(0,t.length-1))+"{visibility: visible !important}";r.teaser.appendStyles(n)}},appendStyles:function(e){if(e.length){var n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),o.dom.elHead.appendChild(n)}}}),d.prototype={settings:{sWatchUrl:a.url.base+"api/rtb/category/{id}/predict/{action}"},init:function(e){this.clear(),this.teasers=e.teasers||{},this.showPreviewDebounce=o.all.debounce(this.showPreview,50),this.parseSelectors()},reInit:function(e){this.isReinitNeed()&&this.init(e)},isReinitNeed:function(){return this.isReinit||!this.loaded},parseSelectors:function(){var e=this;if(!e.selectors)return e.contentFallback(),void e.eventFire("onError");var t=[],n=[];for(var i in e.selectors)e.selectors.hasOwnProperty(i)&&function(i){var a=e.selectors[i];[].forEach.call(a,function(a,s){!function(s){var c=["selector",i,s].join("_");t.push(e.readyPromise(c,e.id,function(){return o.dom.query(a.path)}).then(function(t){e.invokeSelectorElement(i,t,a),n.push(t)}).catch(r.noop))}(s)})}(i);t.length?o.Promise.all(t).then(function(){var t=o.dom.getCommonAncestor(n);if(!t)return e.contentFallback(),void e.eventFire("onError");if(t.id||(t.id=o.dom.getUniqueId("commonAncestor")),e.elements.commonAncestor={element:t,source:t.id},e.isWatcher&&r.track.sendImg(o.string.replace(e.settings.sWatchUrl,{"{id}":e.id,"{action}":"hit"})),!e.teasers||!e.teasers.id)return e.isWatcher&&r.module.get("sWatcher").then(function(n){e.sWatcher=n.create(t,{onAction:function(t){var n=o.string.replace(e.settings.sWatchUrl,{"{id}":e.id,"{action}":t});r.track.sendImg(n)}})}),e.contentFallback(),void e.eventFire("onEmpty");if(!e.teasersObj[e.teasers.id]){var i={isPoweredIcon:e.isPoweredIcon,isVideo:e.isVideo,isFavicon:e.isFavicon,video:e.data.video,cta:e.data.cta,poweredIcon:e.data.poweredIcon};e.teasersObj[e.teasers.id]=r.teaserFactory.create(e.elements,e.teasers,i),e.loaded=!0;var c=s(r,"teaser.preview.categoryId");c&&c==e.id?(e.showPreviewDebounce(),a.isIframe||(r.teaser.preview.observerDocumentSizeChangedId=o.observer.subscribe("documentSizeChanged",function(){e.showPreviewDebounce()}))):e.eventFire("onSuccess")}}).catch(r.noop):(e.contentFallback(),e.eventFire("onError"))},readyPromise:function(e,t,n){var r={name:"teaser_"+e+"_"+t,checkFn:n,isDelayProgressive:!1,maxIterate:15};return i.readyPromise(r)},contentFallback:function(){var e=this,t=[];if([].forEach.call(["url","title","description","recommend"],function(n){e.elements.hasOwnProperty(n)&&(o.array.is(e.elements[n])||(e.elements[n]=[e.elements[n]]),[].forEach.call(e.elements[n],function(e){t.push(e.element)}))}),e.elements.hasOwnProperty("afterFail")){[].forEach.call(["visibilityhidden","visibilityvisible","displaynone"],function(t){e.elements.afterFail.hasOwnProperty(t)&&(o.array.is(e.elements.afterFail[t])||(e.elements.afterFail[t]=[e.elements.afterFail[t]]),[].forEach.call(e.elements.afterFail[t],function(e){"visibilityhidden"===t?r.teaser.setUnvisible(e.element):"visibilityvisible"===t?(r.teaser.setVisible(e.element),r.teaser.setVisibilityVisible(e.element)):"displaynone"===t&&r.teaser.setUndisplay(e.element)}))})}r.teaser.setVisibilityVisible(t)},invokeSelectorElement:function(e,t,n){1!==t.nodeType||t.id||(t.id=o.dom.getUniqueId(e));var i={element:t,source:t.id||void 0};if("image"===e)i.background=n.bg,this.elements.image=i;else if("url"===e)void 0===this.elements[e]&&(this.elements[e]=[]),i.prevent=n.prevent||!1,this.elements[e].push(i);else if("description"===e)i.rating=n.rating||!1,this.elements[e]=i;else if("afterSuccess"===e||"afterFail"===e)switch(this.elements[e]||(this.elements[e]={}),n.type=-1!==["display","visibility"].indexOf(n.type)?n.type:"visibility",n.action=-1!==["show","hide"].indexOf(n.action)?n.action:"hide",n.type){case"display":"hide"===n.action&&(this.elements[e].displaynone||(this.elements[e].displaynone=[]),this.elements[e].displaynone.push(i));break;case"visibility":"show"===n.action?(this.elements[e].visibilityvisible||(this.elements[e].visibilityvisible=[]),this.elements[e].visibilityvisible.push(i)):(this.elements[e].visibilityhidden||(this.elements[e].visibilityhidden=[]),this.elements[e].visibilityhidden.push(i))}else"create"===e?(void 0===this.elements[e]&&(this.elements[e]=[]),n.type=-1!==["afterSuccess","afterFail"].indexOf(n.type)?n.type:"afterSuccess",n.method=-1!==["insertBefore","insertAfter","append","replaceContent"].indexOf(n.method)?n.method:"append",i.code=n.code,i.type=n.type,i.method=n.method,this.elements[e].push(i)):this.elements[e]=i},showPreview:function(){var n,i,c,l,d=o.dom.elBody,u=s(this.elements,"commonAncestor.element");if(a.isIframeSameOrigin&&(d=e.parent.document.body,u=e.frameElement),void 0!==u){var m,f=o.dom.getBoundingClientRect(u);if(a.isIframeSameOrigin||f.height>0)n=f.top+e.scrollY-20,i=f.left-20,c=f.width+40,l=f.height+40;else{var h=o.dom.getDocumentWidthMax(),p=o.dom.getDocumentHeightMax(),g=-1,v=-1,y=this.elements.commonAncestor.element.childNodes;[].forEach.call(y,function(t){if(1===t.nodeType&&-1===["SCRIPT","STYLE","LINK"].indexOf(t.tagName)){var n=(f=o.dom.getBoundingClientRect(t)).left,i=f.top+e.scrollY,r=f.right,a=f.bottom+e.scrollY;n<h&&(h=n),i<p&&(p=i),r>g&&(g=r),a>v&&(v=a)}}),y=void 0,n=p-20,i=h-20,c=g-h+40,l=v-p+40}if(!a.isIframe&&s(r,"teaser.preview.isSelection")){var b=s(r,"teaser.preview.element");b||((b=t.createElement("div")).id="antc-preview-"+this.id,d.appendChild(b),b.onclick=function(){d.removeChild(this),r.teaser.preview.observerDocumentSizeChangedId&&o.observer.unsubscribe(r.teaser.preview.observerDocumentSizeChangedId),r.teaser.preview={}},r.teaser.preview.element=b,b.style.cssText="position: absolute; box-shadow:0 0 0 10000px rgba(0, 0, 0, 0.75); border-radius:10px; z-index:9999;"),b.style.top=n+"px",b.style.left=i+"px",b.style.width=c+"px",b.style.height=l+"px"}a.isIframeSameOrigin?(m=n-l/2,e.parent.scrollTo(0,m)):(m=n-l/2,e.scrollTo(0,m))}},eventFire:function(e){if("function"==typeof this.events[e]&&this.events[e](),"onEmpty"===e&&this.elements.hasOwnProperty("create")){var t=[];[].forEach.call(this.elements.create,function(e){"afterFail"===e.type&&t.push(r.teaser.createElement(e.element,e))});var n=o.dom.getCommonAncestor(t);n&&o.dom.scriptsRun(n)}},clear:function(){if(this.elements={},this.sWatcher&&"function"==typeof this.sWatcher.destroy&&(this.sWatcher.destroy(),delete this.sWatcher),this.teasersObj)for(var e in this.teasersObj)this.teasersObj.hasOwnProperty(e)&&"function"==typeof this.teasersObj[e].destroy&&this.teasersObj[e].destroy();this.teasersObj={},this.teasers={},r.teaser.preview&&r.teaser.preview.observerDocumentSizeChangedId&&(o.observer.unsubscribe(r.teaser.preview.observerDocumentSizeChangedId),delete r.teaser.preview.observerDocumentSizeChangedId)},destroy:function(){this.clear()}},u.prototype={settings:{videoPlayerIdPrefrix:"antc-video",truncateValue:192,poweredClass:"antc-powered",poweredTemplate:'<antctag class="antc-powered">&nbsp;</antctag>',videoClass:"antc-video",videoTemplate:'<antctag data-antc-video class="antc-video"></antctag>',recommendMask:"{brand-icon}{recommend} {brand}"},contentInvoke:function(){if(this._prepareRecommendText(),this._prepareInstallStars(),this._invokeImage(),this._invokeTitle(),this._invokeDescription(),this._invokeURL(),this._invokeRecommend(),this._invokeAfterSuccess(),this._invokeCreate(),this.loaded=!0,!this.isReplaceNative){for(var e=[],t=0;t<this.elementsFlat.length;t++)e[t]=this.elementsFlat[t].element;var n=o.dom.getCommonAncestor(e);n&&(n.id||(n.id=o.dom.getUniqueId("commonAncestor")),this.elements.commonAncestor={element:n,source:n.id})}if(this.elements.commonAncestor&&this.elements.commonAncestor.element){o.dom.scriptsRun(this.elements.commonAncestor.element);try{this._invokeVideo()}catch(e){}this.contentInvokeFinal()}},_invokeImage:function(){this.elements.image&&this.content.image_small&&(this.isPlaced=!0,this.isReplaceNative=!0,this._invokeImageSource())},_invokeTitle:function(){this.elements.title&&this.content.title&&(this.isPlaced=!0,this.isReplaceNative=!0,o.dom.setText(this.elements.title.element,this.content.title),this.elementsFlat.push({name:"title",element:this.elements.title.element}))},_invokeDescription:function(){var e=this.elements.description,t=this.content.description;if(e&&t){this.isPlaced=!0,this.isReplaceNative=!0;var n=e.maxLength&&e.maxLength>1?e.maxLength:this.settings.truncateValue;t.length>n&&(t=t.substr(0,n)+"..."),e.rating&&this.installRatingStars?e.element.innerHTML=t+this.installRatingStars:o.dom.setText(e.element,t),this.elementsFlat.push({name:"description",element:e.element})}},_invokeURL:function(){var t=this;t.elements.url&&t.link&&(t.isPlaced=!0,t.isReplaceNative=!0,[].forEach.call(t.elements.url,function(n){var i=n.element,r=n.prevent||!1;t.content.title&&(i.title=t.content.title),i.href=t.link,(t.content.collection_id||r)&&(i.onclick=function(n){if(t.content.collection_id&&t.setPreloadContent(),r&&this.href)return n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),n.returnValue=!1,e.location.href=this.href,!1}),t.elementsFlat.push({name:"url",element:i})}))},_invokeRecommend:function(){if(this.elements.recommend&&this.brand.title){this.isPlaced=!0,this.isReplaceNative=!0;var e=this.elements.recommend.element;3===e.nodeType?e.nodeValue=this.recommend:e.innerHTML=this.recommend,this.elementsFlat.push({name:"recommend",element:this.elements.recommend.element})}},_invokeAfterSuccess:function(){var e=this;if(e.elements.afterSuccess){[].forEach.call(["visibilityhidden","visibilityvisible","displaynone"],function(t){e.elements.afterSuccess[t]&&(e.isPlaced=!0,e.isReplaceNative=!0,[].forEach.call(e.elements.afterSuccess[t],function(e){"visibilityhidden"===t?r.teaser.setUnvisible(e.element):"visibilityvisible"===t?(r.teaser.setVisible(e.element),r.teaser.setVisibilityVisible(e.element)):"displaynone"===t&&r.teaser.setUndisplay(e.element)}))})}},_invokeCreate:function(){var e=this;if(e.elements.create){var t=e.content.image_small||e.content.image_large||e.content.image;[].forEach.call(e.elements.create,function(n,i){if("afterSuccess"===n.type){e.isPlaced=!0;var a=n.element,c=e.cta.code,l=e.isInstall&&c,d=!!s(e.content,"data.warning");c=l?o.string.replace(c,{"{url}":e.link,"{title}":e.content.title,"{description}":e.content.description,"{cta_action}":s(e.content,"data.ctaAction",""),"{rating}":e.installRatingStars}):"",d&&-1===n.code.indexOf("{warning}")&&(n.code=o.string.replace(n.code,{"{description}":"{description}<br>{warning}"})),n.code=o.string.replace(n.code,{"{url}":e.link,"{title}":e.content.title,"{description}":e.content.description||"","{image_src_square}":s(e.content,"data.images.square.src",t),"{image_src_standard}":s(e.content,"data.images.standard.src",t),"{image_src_wide}":s(e.content,"data.images.wide.src",t),"{image_src_high}":s(e.content,"data.images.high.src",t),"{image_src}":t,"{recommend}":e.recommend,"{brand_src}":e.brand.image_small||e.brand.image,"{powered}":e.isPoweredIcon?e.settings.poweredTemplate:"","{video}":e.isVideo?e.settings.videoTemplate:"","{warning}":d?'<antctag class="antc-warning">'+s(e.content,"warning")+"</antctag>":"","{cta}":c,"{rating}":e.installRatingStars});var u=r.teaser.createElement(a,n),m=u.parentNode;if("replaceContent"===n.method&&(m=a),u&&(e.elementsFlat.push({name:"create",element:u}),l)){var f=o.dom.query(".ant__cta-button",m);if(f)e.elements.commonAncestor&&e.elements.commonAncestor.element&&o.dom.contains(e.elements.commonAncestor.element,f)?f.style.zIndex=o.dom.getMaxZIndex(e.elements.commonAncestor.element)+1:f.style.zIndex=o.dom.getMaxZIndex(o.dom.elBody)+1,"static"===o.dom.getComputedStyle(m,null).position&&(m.style.position="relative")}}})}},_invokeImageSource:function(){var e,n=this,i="",a=!1,s=n.elements.image.element,c=s.src||"",l=o.dom.getSize(s),d=o.dom.getComputedStyle(s,null),u=d.getPropertyValue("width"),m=d.getPropertyValue("height"),f={src:n.content.image_small};if((n.content.data&&n.content.data.images&&l.width&&l.height&&(f=n.getClosestRatioImage(l.width,l.height,n.content.data.images)),void 0!==n.content.video_small&&null!==n.content.video_small&&void 0!==s)&&(u=u.substring(0,u.length-2),m=m.substring(0,m.length-2),"undefined"!==typeof t.createElement("video").canPlayType)){a=!0;l.width}var h=!1;if(!n.elements.image.background||n.elements.image.background&&!n.elements.image.background){if(s.src=f.src,s.hasAttribute("srcset")){var p=o.dom.getImageSrcSet(s),g=[];p.length&&([].forEach.call(p,function(e){e.hasOwnProperty("width")&&g.push(f.src+" "+e.width+"w"),e.hasOwnProperty("height")&&g.push(f.src+" "+e.height+"h"),e.hasOwnProperty("density")&&g.push(f.src+" "+e.density+"x")}),s.srcset=g.join(", "))}i+="object-fit:cover;object-position:50% 50%;",n.content.title&&(s.alt=n.content.title,s.title&&(s.title=n.content.title))}else n.elements.image.background&&(h=!0,i+="background-image:url("+f.src+") !important; background-size: cover; background-position: 50% 50%;",n.content.title&&(s.title=n.content.title));if("inline"===d.getPropertyValue("display")&&(i+="display:inline-block;"),"none"===d.maxWidth&&(i+="max-width:"+u+";"),0===l.height||0===c.length){var v=new Image;v.src=c,v.onload=function(){l=o.dom.getSize(v);var e="#"+s.id+"{height:"+l.height+"px !important}";n.content.data&&n.content.data.images&&l.width&&l.height&&(f=n.getClosestRatioImage(l.width,l.height,n.content.data.images),h?e+="background-image:url("+f.src+"); !important":s.src=f.src),r.teaser.appendStyles(e)}}0!==l.height&&(i+="height:"+l.height+"px;"),e="#"+s.id+"{"+i+"}",r.teaser.appendStyles(e),n.elementsFlat.push({name:"image",isVideo:a,element:s})},_invokeVideo:function(){var e=this,t=e.elements.commonAncestor.element,n=o.dom.query("[data-antc-video]",t);if(e.isVideo&&e.content.video){var i=o.dom.getSize(n);if(!i.height){var a=n.getAttribute("data-ratio-fallback");a=a&&parseFloat(a)||.75,i.height=i.width*a,n.style.height=i.height+"px"}n.style.display="none",r.module.get("teaserVideo").then(function(t){e.videoInstance=t.create({teaserId:e.id,anchor:n,content:e.content,params:e.video}),setTimeout(function(){n.style.display=""})})}else n&&n.parentNode.removeChild(n)},contentInvokeFinal:function(){var e=this;if(e.powered=[],e.isPlaced){var t=e.elements.commonAncestor.element,n=[].slice.call(t.getElementsByTagName("a"));"A"===t.tagName.toUpperCase()&&n.push(t);for(var i=0;i<n.length;i++)e.isClickIn?n[i].removeAttribute("target"):n[i].setAttribute("target","blank");if(e.isTurbo){r.module.get("storyTurbo");for(i=0;i<n.length;i++)o.event.addListener(n[i],"click",e.turboOpen.bind(e,n[i]))}if(e.watched||(e.watched=!0,e.sendTeaserStat(!0),e.watchId=o.dom.watchElementVisible(t,.01,function(){e.sendTeaserStat()})),e.isPoweredIcon){var a=t.querySelectorAll("."+e.settings.poweredClass);0===a.length&&t.insertAdjacentHTML("beforeend",e.settings.poweredTemplate),(a=t.querySelectorAll("."+e.settings.poweredClass)).length>0&&(a=[].slice.call(a),r.module.get("powered").then(function(t){for(;a.length;){var n=t.create(a.shift(),{position:e.poweredIcon.position});e.powered.push(n)}}))}}},getClosestRatioImage:function(e,t,n){var i=e/t,r=[];for(var o in n)n.hasOwnProperty(o)&&r.push(n[o]);var a=[];[].forEach.call(r,function(e){a.push(Math.abs(e.ratio-i))});var s=Math.min.apply(Math,a);return r[a.indexOf(s)]},turboOpen:function(t,n){var i=this;(n=n||e.event).preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.returnValue=!1,r.module.get("storyTurbo").then(function(n){if(a.isIframeTurbo){var r=JSON.stringify({action:"antc:open",payload:t.href});e.top.postMessage(r,"*")}else i.storyTurbo=n.create(t.href)}).catch(function(){e.location.href=t.href})},prepareStatIframe:function(){return this.statIframe?this.statIframe:(this.statIframe=t.createElement("iframe"),this.statIframe.scrolling="no",this.statIframe.frameborder=0,this.statIframe.width=0,this.statIframe.height=0,this.statIframe.style.position="absolute",this.elements.commonAncestor.element.appendChild(this.statIframe),this.statIframe)},destroyStatIframe:function(){if(this.statIframe)try{this.elements.commonAncestor.element.removeChild(this.statIframe)}catch(e){}},sendTeaserStat:function(e){e=e||!1;var t=!!this.trackers.masked||!1,n=e?"hittrackers":"imptrackers";if(this.trackers[n]&&o.array.is(this.trackers[n]))for(var i=0;i<this.trackers[n].length;i++)t?r.track.sendIframe(this.trackers[n][i]):r.track.sendImg(this.trackers[n][i]);this.sendTeaserStatJs(e)},sendTeaserStatJs:function(e){var t=e?"hitjstracker":"jstracker";this.trackers[t]&&(this.prepareStatIframe(),r.track.sendHtml(this.trackers[t],this.statIframe.contentWindow.document.body))},setPreloadContent:function(){a.isHtml5Storage&&(this.content.title&&sessionStorage.setItem("preloadTitle",this.content.title),this.content.description&&sessionStorage.setItem("preloadDescription",this.content.description))},_prepareRecommendText:function(){var e=s(this.content,"data.recommend"),t={"{recommend}":s(r.teaser,"trans.rtb.teaser.recommend"),"{brand}":this.brand.title,"{brand-icon}":""};if(this.isFavicon&&this.brand.favicon){var n=this.isInstall?24:16;t["{brand-icon}"]='<img src="'+this.brand.favicon+'" width="'+n+'" height="'+n+'" style="vertical-align: middle" alt="'+this.brand.title+'">'}this.recommend=o.string.replace(e&&e.length?e:this.settings.recommendMask,t)},_prepareInstallStars:function(){var e;if((this.installRatingStars="",this.isInstall)&&(a.isPlatformIOS?e="ios":a.isPlatformAndroid&&(e="android"),e)){var t=s(this.content,"data.install."+e+".rating","");t||(this.installRatingStars='<span class="antc__te2er-rating"><span class="antc__te2er-rating-value" style="width: '+Math.round(100*t/5)+'%;"></span></span>')}},clear:function(){for(this.destroyStatIframe(),this.elements={},this.elementsFlat=[],this.link="",this.isPlaced=!1,this.isReplaceNative=!1,this.watchId&&o.dom.unwatchElementVisible(this.watchId),this.watchVideoId&&o.dom.unwatchElementVisible(this.watchVideoId);this.powered.length;)this.powered.shift().destroy()},destroy:function(){this.clear()}},r.module&&r.module.doneLoad("teaser"),r.module.loadCss("teaser"),a.ga.base.events=a.ga.base.events||{}}(window,document,ShopneticEmbed,ShopneticHelper),function(e,t,n){"use strict";var i=e.antc,r=i.settings,o=i.utils;i[n]={create:function(e){return new s(e)},_constructor:s};var a="playsInline"in t.createElement("video");function s(e){this.id=o.dom.getUniqueId("video"),this.anchor=null,this.wrapper=null,this.player=null,this.init(e)}s.prototype={settings:{playsinline:a,isCanvas:r.isPlatformIOS&&!a,template:'<antctag id="{id}" class="antc-video-player__wrapper"><video class="antc-video-player" playsinline muted preload loop><source src="{video_src}" type="video/mp4">Your browser does not support HTML5 video.</video></antctag>'},init:function(e){e.anchor&&(this.anchor||(this.teaserId=e.teaserId,this.anchor=e.anchor,this.params=e.params,this.content=e.content,this._elementCreate()))},destroy:function(){},_elementCreate:function(){var e=o.string.replace(this.settings.template,{"{id}":this.id,"{video_src}":this.content.video_large});this.anchor.insertAdjacentHTML("beforeend",e),this.wrapper=o.dom.query("#"+this.id,this.anchor),this.insertPlayerCode()},insertPlayerCode:function(){var e=this,t="videoHTML5",n={teaserId:e.teaserId,container:e.wrapper,media:"video",autoplay:e.params.autoplay,sound:e.params.sound,linkUrl:e.content.url,loop:!0,mute:!0};return e.settings.isCanvas&&(t="videoCanvas",n.canvasSelector=".js-canvas",n.timelineSelector=".js-timeline",n.framesPerSecond=25),i.module.get(t).then(function(t){e.player=t.create(n),e.bindActions()})},bindActions:function(){var t=this;t.watchedVideo||(t.watchedVideo=!0,t.watchVideoId=o.dom.watchElementVisible(t.wrapper,.75,function(){t.params.autoplay&&t.player.play()},function(){t.player.pause()}),t.wrapper.onmouseenter=function(n){n=n||e.event,t.params.autoplay||(t.player.play(),"switch"!==t.params.sound&&t.player.unMute()),"hover"===t.params.sound&&(t.player.unMute(),t.player.isPaused()&&(t.player.mute(),t.player.play()))},t.wrapper.onmouseleave=function(n){n=n||e.event,t.params.autoplay||t.player.pause(),"hover"===t.params.sound&&t.player.mute()})}},i.module&&i.module.doneLoad(n)}(window,document,"teaserVideo");
