(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{40020:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h}));var r=n("7ae52"),o=n.n(r),c=n("ff287"),y=n.n(c),l=function(){return(l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},d=function(t){var e=m(t,"layoutTrackingInfo")||{};return{attributes:{deviceType:e.deviceType,platform:e.platform,templateType:e.templateType},user:{isBot:y()(t,"browser.isBot")||!1}}},f=function(t,e){void 0===e&&(e={});var n=v(e.custom);return l(l({},e),{attributes:l(l({},e.attributes),d(t).attributes),custom:n})},h=function(t,e){void 0===e&&(e={});var n=m(t,"layoutTrackingInfo")||{},r="string"==typeof e.widget?JSON.parse(e.widget):e.widget,c="object"===o()(e.composer)?"string"==typeof e.composer.slice?JSON.parse(e.composer.slice):e.composer.slice:void 0,y="object"===o()(e.composer)?"string"==typeof e.composer.cell?JSON.parse(e.composer.cell):e.composer.cell:void 0,f="object"===o()(e.composer)?v(e.composer.custom):void 0,h=c||y||f?{slice:c,cell:y,custom:f}:void 0;return l(l({},e),{attributes:l(l({},e.attributes),d(t).attributes),page:{layoutId:n.layoutId,layoutVersion:n.layoutVersion,ruleId:n.ruleId},widget:r,composer:h})},v=function(t){return"boolean"==typeof t?{}:"object"===o()(t)?t:void 0};function m(t,path){var object=y()(t,path);return object&&JSON.parse(JSON.stringify(object))}},"506b7":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return h}));var r,o=n("f9266"),c=n("a71f0"),y=function(){return(y=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},l=function(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t.DESIRED="v1",t.GLUED="v2"}(r||(r={}));var d={cell:{},slice:{}},f=function(){function t(){this.trackingPayloads={}}return t.prototype.setVersion=function(t){this.trackingVersion=t},t.prototype.setTrackingPayloads=function(t){this.trackingPayloads=t},t.prototype.send=function(t,e,n,l){var d=this;if(void 0===n&&(n={}),void 0===l&&(l=!1),e){var f,h=this.trackingVersion===r.GLUED,v=e.key,m=e.actionType,w=e.nested,P=void 0===w?[]:w;if(!0===l&&!1===h){f=Object(o.generateClickHouseUUID)();var k=e.sliceKey,E=y(y({actionType:m,uuid:f},t),{custom:n});v&&(E.cellToken=v),k&&(E.sliceToken=k),c.a.sendTrinityEvent(E)}var O=t.widgetToken,T=h?this.composeGluedPayload(v):this.composePayloadBySeparateKeys(e,O),j=y(y({},T),{custom:n});j.widget||(j.widget=this.getPayloadByKey(O));var I={actionType:m,widget:j.widget,composer:{cell:j.cell,slice:j.slice,custom:j.custom}};f&&(I.uuid=f),c.a.sendComposerEvent(I),Array.isArray(P)&&P.length&&P.forEach((function(e){return d.send(t,e,{},l)}))}},t.prototype.composeGluedPayload=function(t){var e,n,r=this.getPayloadByKey(t),o=y({},d);try{for(var c=l(Object.keys(r)),f=c.next();!f.done;f=c.next()){var h=f.value;o[h]=this.getPayloadByKey(r[h])}}catch(t){e={error:t}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return o},t.prototype.composePayloadBySeparateKeys=function(t,e){var n=t.key,r=t.sliceKey;return{cell:this.getPayloadByKey(n),slice:this.getPayloadByKey(r),widget:this.getPayloadByKey(e)}},t.prototype.getPayloadByKey=function(t){if(!t||!this.trackingPayloads[t])return{};try{return JSON.parse(this.trackingPayloads[t])}catch(t){return{}}},t}(),h=new f},a71f0:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return d}));var r=n("bd7eb");n.d(e,"b",(function(){return r.EActionTypes}));var o,c=n("54922"),y=n("40020"),l=function(){return(l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};!function(t){t.PAGE_VIEW="page_view"}(o||(o={}));var d=new(function(){function t(){this.eventsCache=[],this.pageInit=!1,this.tracker=new r.TrackerSDK,this.dataLayer=new c.DataLayer}return t.prototype.init=function(t,e){this.setState(t),this.tracker.init(e)},t.prototype.setState=function(t){this.state=Object.assign({},t)},t.prototype.sendTrackerPageClose=function(t){void 0===t&&(t={}),this.tracker.sendPageClose(t)},t.prototype.sendTrackerPageView=function(t){void 0===t&&(t={}),this.tracker.sendPageView(t)},t.prototype.sendEvent=function(t){var e=l(l({},t),Object(y.b)(this.state));this.tracker.sendEvent(e)},t.prototype.sendComposerEvent=function(t){var e=Object(y.a)(this.state,t);this.tracker.sendComposerEvent(e),this.pageInit?this.dataLayer.pushEcommerce(e):this.eventsCache.push(e)},t.prototype.sendTrinityEvent=function(t){var e=Object(y.c)(this.state,t);this.tracker.sendTrinityEvent(e)},t.prototype.setPageInit=function(t){this.pageInit=t},t.prototype.send=function(t,e){var n={actionType:t,widget:e.widget,composer:{cell:e.cell,slice:e.slice,custom:e.custom}};this.sendComposerEvent(n)},t.prototype.sendDLPageEvents=function(t,e,n,r){this.dataLayer.pushPageInit(t,e,n),this.dataLayer.pushGtmStart(),r&&r===o.PAGE_VIEW&&this.dataLayer.pushPageView(),this.pageInit=!0},t.prototype.sendDLWidgetsEvents=function(){if(this.eventsCache.length)for(var i=0;i<=this.eventsCache.length;i++){var t=this.eventsCache[i];t&&this.dataLayer.pushEcommerce(t)}},t.prototype.reinitDataLayer=function(t){this.dataLayer.reinit(t),this.eventsCache=[],this.pageInit=!1},t}())}}]);