(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"09476":function(e,t,n){"use strict";n.r(t);var r=n("279f1"),o=n.n(r),c=n("a71f0"),l=n("d3037"),d=n("9ca89"),f=n("d957a"),v={name:"SearchContentHeaderMobilePure",components:{DropDown:n.n(f).a},props:{activeSortingId:{type:String,required:!0},sortings:{type:Array,default:function(){return[]}},countActiveFilter:{type:Number,default:0}},computed:{activeSortingName:function(){var e=this;return(this.sortings.find((function(t){return t.id===e.activeSortingId}))||{}).name||""}},mounted:function(){var e=this.getSortingById(this.activeSortingId);this.$emit("onRender",{sorting:e})},methods:{onChange:function(e){var t=this.getSortingById(e.target.value);this.$emit("onSelect",{sorting:t})},getSortingById:function(e){return this.sortings.find((function(t){return t.id===e}))},onOpen:function(){this.$emit("onOpen")}}},h=n("571c5"),m=n("b429c");var y=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.sortingsBar},[e._t("left"),e._v(" "),n("label",{class:e.$style.sortingLabel},[n("span",{class:e.$style.sortingLabelText},[e._v("\n      "+e._s(e.activeSortingName)+"\n      "),n("DropDown",{class:e.$style.dropdownIcon})],1),e._v(" "),n("select",{directives:[{name:"qa",rawName:"v-qa",value:{id:"sortings"},expression:"{id: 'sortings'}"}],class:e.$style.sortingsSelect,domProps:{value:e.activeSortingId},on:{change:e.onChange,"~click":function(t){return e.onOpen(t)}}},e._l(e.sortings,(function(t){return n("option",{directives:[{name:"qa",rawName:"v-qa",value:{id:"option-"+t.id},expression:"{id: `option-${sorting.id}`}"}],key:t.id,domProps:{value:t.id}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),0)]),e._v(" "),e._t("right")],2)}),[],!1,(function(e){this.$style=h.default.locals||h.default}),null,null).exports,S=n("d68e9"),O=n("77d77"),_={name:"SearchSortings",components:{OzSelect:S.OzSelect},mixins:[O.a],props:{sortings:{type:Array,required:!0}},computed:{activeItemIndex:function(){return this.sortings.findIndex((function(e){return e.isActive}))}},methods:{onSelect:function(e){e.isActive||this.$emit("onSelect",{sorting:e})},onChange:function(e){var t=this.sortings.find((function(t){return t.name===e}))||{};this.$emit("onSelect",{sorting:t})}}},E=n("43529");var w=Object(m.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"search-sortings",expression:"'search-sortings'",arg:"id"}],class:e.$style.sortings},[n("OzSelect",{class:e.$style["sorting-select"],attrs:{value:e.sortings[e.activeItemIndex],options:e.sortings,filterable:!1,"label-key":"name"},on:{change:e.onChange},scopedSlots:e._u([{key:"option",fn:function(t){var label=t.label,option=t.option;return[n("span",{directives:[{name:"qa",rawName:"v-qa",value:{id:option.id},expression:"{id: option.id}"}]},[e._v(e._s(label))])]}}])})],1)}),[],!1,(function(e){this.$style=E.default.locals||E.default}),null,null).exports;function I(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var C=l.a.extend({name:"SearchResultsSort",components:{SearchContentHeaderMobilePure:y,SearchSortings:w,PlaceholderRender:Object(d.a)("search-results-sort")},inject:{isMobile:{default:!1}},computed:{sortings:function(){var e=this;return(this.widgetState.sortings||[]).map((function(t){return x(x({},t),{},{link:decodeURI(e.urlBase).replace("{value}",t.urlValue)})}))},urlBase:function(){return this.widgetState.urlBase},selectedFiltersCount:function(){return this.widgetState.selectedFiltersCount},activeSortingId:function(){return(this.sortings.find((function(e){return e.isActive}))||{}).id},hasSortings:function(){return this.sortings&&this.sortings.length>0}},methods:{onSelect:function(e){var t=e.sorting,n=this.getSortingIndexById(t.id)+1;c.a.send(c.b.CLICK_ACTION,{widget:this.trackingInfo||{},cell:{type:"sorting",id:t.id,index:n}});var r=this.urlBase.replace("{value}",t.urlValue);this.composerRouter.push(r,{scroll:!1})},getSortingIndexById:function(e){return this.sortings.findIndex((function(t){return t.id===e}))}}}),P=n("8ac9b");var T=Object(m.a)(C,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.isMobile?r("div",[r("SearchContentHeaderMobilePure",{attrs:{"active-sorting-id":t.activeSortingId,sortings:t.sortings},on:{onSelect:t.onSelect},scopedSlots:t._u([t.notEmptyPlaceholder("searchResultsView")?{key:"left",fn:function(){return[r("PlaceholderRender",{attrs:{placeholders:t.placeholders,place:"searchResultsView"}})]},proxy:!0}:null,{key:"right",fn:function(){return[r("PlaceholderRender",{attrs:{placeholders:t.placeholders,place:"filters-placeholder"}})]},proxy:!0}],null,!0)})],1):r("div",{class:[t.$style.container,(e={},e[t.$style.modWithContent]=t.hasSortings,e)]},[t.hasSortings?r("SearchSortings",{attrs:{sortings:t.sortings},on:{onSelect:t.onSelect}}):t._e(),t._v(" "),r("PlaceholderRender",{attrs:{placeholders:t.placeholders,place:"filters-placeholder"}})],1)}),[],!1,(function(e){this.$style=P.default.locals||P.default}),null,null);t.default=T.exports},"11c35":function(e,t,n){e.exports={mobile:"f8u4"}},"158c3":function(e,t,n){"use strict";n.r(t);var r=n("b1f53"),o=n.n(r),c=n("d3037"),l=n("a71f0"),d=c.a.extend({name:"CatalogFiltersButton",components:{Filters:o.a},computed:{selectedFiltersCount:function(){return this.widgetState.selectedFiltersCount||0}},methods:{openModal:function(){l.a.send(l.b.CLICK_ACTION,{widget:this.trackingInfo,cell:{type:"ui"}}),this.composerRouter.push(this.widgetState.link)}}}),f=n("811b7"),v=n("b429c");var component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"qa",rawName:"v-qa",value:{id:"filtersMobileButton"},expression:"{id: 'filtersMobileButton'}"}],class:e.$style["filters-button"],on:{click:e.openModal}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.selectedFiltersCount,expression:"selectedFiltersCount"},{name:"qa",rawName:"v-qa",value:{id:"filtersCount"},expression:"{id: 'filtersCount'}"}],class:e.$style["filters-count"]},[e._v(e._s(e.selectedFiltersCount))]),e._v(" "),n("Filters",{class:e.$style["filters-icon"]})],1)}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null);t.default=component.exports},"259b5":function(e,t,n){"use strict";var r=n("32efa"),o=n.n(r);t.default=o.a},"32efa":function(e,t,n){e.exports={category:"b7d1","category-link":"b7d2","m-current-level-1":"b7d3","m-max-level-1":"b7d4","m-max-level-2":"b7d5","m-max-level-3":"b7d6","m-current-level-2":"b7d7","m-current-level-3":"b7d8","category-cat-control":"b7d9",":hover":"b7e"}},43529:function(e,t,n){"use strict";var r=n("db10e"),o=n.n(r);t.default=o.a},48591:function(e,t,n){"use strict";n.r(t);var r=n("1d967"),o=n.n(r),c=n("4066f"),l=n.n(c),d=n("279f1"),f=n.n(d),v=n("da766"),h=n("d3037"),m=n("5eb4e"),y=n("a71f0"),S=n("a09a9"),O=n.n(S),_=n("d68e9"),E=n("ad4a3"),w={name:"SearchActiveFilters",functional:!0,inject:{isMobile:{default:!1}},props:{disableAllText:{type:String,default:""},activeValues:{type:Array,default:function(){return[]}}},render:function(e,t){var n=t.props,r=t.$style,o=t.injections,c=t.listeners,d=t._v,v=n.disableAllText,h=n.activeValues,m=o.isMobile;if(!h.length)return null;return e("div",O()([{class:[r["active-filters"],f()({},r.mobile,m)]},{directives:[{name:"qa",value:{id:"active-filters"}}]}]),[].concat(l()(h.map((function(t,n){var o=E.b[t.icon];return e(_.OzTag,O()([{key:n,class:r.filter,attrs:{"close-button":!0,"qa-id-close":"close"}},{on:{clickButtonClose:function(){return c.resetItem(t,n)}}},{},{directives:[{name:"qa",value:{id:"filter"}}]}]),[e("template",{slot:"content"},[].concat(l()(t.icon?[e(o,{class:r.icon})]:[]),[e("span",[d(t.text)])]))])}))),l()(v?[e(_.OzTag,O()([{key:v,attrs:{theme:"secondary",text:v,"close-button":!0,"qa-id-close":"close"},class:r.filter},{on:{click:c.resetAll,clickButtonClose:c.resetAll}},{},{directives:[{name:"qa",value:{id:"filter-reset-all-button"}}]}]))]:[])))}},I=n("6fe48"),x=n("b429c");var C=Object(x.a)(w,void 0,void 0,!1,(function(e){this.$style=I.default.locals||I.default}),null,null).exports;function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){f()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var R=h.a.extend({name:"SearchActiveFiltersWidget",components:{SearchActiveFilters:C,FiltersLoader:v.a},inject:{resetOverride:{default:null},isMobile:{default:!1}},data:function(){return{isLoading:!1}},computed:{disableAllText:function(){return this.widgetState.disableAllText||""},uriBase:function(){return this.widgetState.uriBase||""},activeValues:function(){var e=this;return(this.widgetState.activeFilters||[]).map((function(t){var n=t.activeValues,r=t.name,o=t.ftype,c=t.key;return n.map((function(t){return T(T({},t),{},{ftype:o,key:c,text:"".concat(r||"").concat(e.showColon(o,t)?": ":"").concat(t.title)})}))})).reduce((function(e,t){return[].concat(l()(e),l()(t))}),[])},resetAllCellTrackingInfo:function(){return this.widgetState.cellTrackingInfo||{}}},methods:{onResetItem:function(filter){y.a.send(y.b.UNSET_ACTION,{widget:this.trackingInfo,cell:filter.cellTrackingInfo}),this.reset(filter.disableUri)},onResetAll:function(){y.a.send(y.b.CLICK_ACTION,{widget:this.trackingInfo,cell:this.resetAllCellTrackingInfo}),this.reset(this.uriBase)},reset:function(e){var t=this;return o()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isLoading=!0,!t.resetOverride||"function"!=typeof t.resetOverride){n.next=3;break}return n.abrupt("return",t.resetOverride(e));case 3:if(!e.startsWith("/modal")){n.next=8;break}return n.next=6,t.$store.dispatch("composer/GET_MODAL",{url:e});case 6:n.next=10;break;case 8:return n.next=10,t.composerRouter.push(e);case 10:t.isLoading=!1;case 11:case"end":return n.stop()}}),n)})))()},showColon:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!t.title&&![m.a.TYPES.BOOL,m.a.TYPES.RATING].includes(e)},asyncSharedMapper:function(){return{}}}}),A=n("fecfb");var L=Object(x.a)(R,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:(e={},e[t.$style.mobile]=t.isMobile,e)},[r("SearchActiveFilters",{attrs:{"disable-all-text":t.disableAllText,"active-values":t.activeValues},on:{resetItem:t.onResetItem,resetAll:t.onResetAll}}),t._v(" "),t.isLoading&&t.isMobile?r("FiltersLoader"):t._e()],1)}),[],!1,(function(e){this.$style=A.default.locals||A.default}),null,null);t.default=L.exports},55555:function(e,t,n){e.exports={"filters-button":"b6h8","filters-count":"b6h9","filters-icon":"b6i"}},"571c5":function(e,t,n){"use strict";var r=n("aeaf6"),o=n.n(r);t.default=o.a},"5ab05":function(e,t,n){e.exports={container:"b6i1",modWithContent:"c5o5"}},"5e277":function(e,t,n){e.exports={aside:"b6j6"}},"5eb4e":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={TYPES:{BOOL:"RESPONSE_FILTER_TYPE_BOOL",MULTI:"RESPONSE_FILTER_TYPE_MULTI",RANGE:"RESPONSE_FILTER_TYPE_RANGE",COLOR:"RESPONSE_FILTER_TYPE_COLOR",RADIO:"RESPONSE_FILTER_TYPE_RADIO",RATING:"RESPONSE_FILTER_TYPE_RATING",INVALID:"RESPONSE_FILTER_TYPE_INVALID"},TYPE_MAP:{RESPONSE_FILTER_TYPE_BOOL:"bool",RESPONSE_FILTER_TYPE_MULTI:"multi",RESPONSE_FILTER_TYPE_COLOR:"color",RESPONSE_FILTER_TYPE_RATING:"bool",RESPONSE_FILTER_TYPE_RANGE:"range"},URL_PREFIX:"f_",SEPARATORS:{RANGE:";",MULTI:","},ANALYTICS_STATUS_MAP:{RESPONSE_FILTER_TYPE_BOOL:"bool",RESPONSE_FILTER_TYPE_MULTI:"multi",RESPONSE_FILTER_TYPE_RANGE:"range",RESPONSE_FILTER_TYPE_COLOR:"color",RESPONSE_FILTER_TYPE_RADIO:"radio",RESPONSE_FILTER_TYPE_RATING:"bool"}}},"6d735":function(e,t,n){"use strict";n.r(t);var r=n("279f1"),o=n.n(r),c=n("d3037"),l=n("a71f0"),d=n("3ced6"),f={name:"SubtreeCategory",components:{ComposerLink:d.a},props:{categories:{type:Array,default:function(){return[]}},currentCategory:{type:Object,required:!0},maxLevel:{type:Number,required:!0},currentLevel:{type:Number,default:1}},data:function(){return{showAll:!1,MAX_VISIBLE:4,detectViewportSettings:{once:!0,callback:this.emitViewport}}},computed:{visibleChildren:function(){var e=this.maxLevel,t=this.currentLevel,n=this.showAll;return e!==t+1||n?this.categories:this.categories.slice(0,4)},showChildren:function(){return this.categories.length&&this.currentLevel+1<=this.maxLevel}},methods:{setShowAll:function(e){this.showAll=e},emitViewport:function(){this.$emit("categoryView",this.currentCategory)}}},v=n("259b5"),h=n("b429c");var m=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:e.detectViewportSettings,expression:"detectViewportSettings"},{name:"qa",rawName:"v-qa",value:{id:"treeSubcategory",category:e.currentCategory.name,index:e.currentCategory.index},expression:"{id: 'treeSubcategory', category: currentCategory.name, index: currentCategory.index}"}],class:[e.$style.category,e.$style["m-current-level-"+e.currentLevel],e.$style["m-max-level-"+e.maxLevel]]},[n("ComposerLink",{class:e.$style["category-link"],attrs:{href:e.currentCategory.href},on:{click:function(t){return e.$emit("categoryClick",e.currentCategory)}}},[e._v("\n    "+e._s(e.currentCategory.name)+"\n  ")]),e._v(" "),e.showChildren?[e._l(e.visibleChildren,(function(t){return n("SubtreeCategory",{key:t.id,attrs:{categories:t.categories,"current-category":t,"current-level":e.currentLevel+1,"max-level":e.maxLevel},on:{categoryClick:function(t){return e.$emit("categoryClick",t)},categoryView:function(t){return e.$emit("categoryView",t)}}})})),e._v(" "),e.visibleChildren.length!==e.categories.length?n("span",{directives:[{name:"qa",rawName:"v-qa:id",value:"showAll",expression:"'showAll'",arg:"id"}],class:e.$style["category-cat-control"],on:{click:function(t){return e.setShowAll(!0)}}},[e._v("\n      Показать все\n    ")]):e._e(),e._v(" "),e.visibleChildren.length>e.MAX_VISIBLE?n("span",{directives:[{name:"qa",rawName:"v-qa:id",value:"hideAll",expression:"'hideAll'",arg:"id"}],class:e.$style["category-cat-control"],on:{click:function(t){return e.setShowAll(!1)}}},[e._v("\n      Скрыть все\n    ")]):e._e()]:e._e()],2)}),[],!1,(function(e){this.$style=v.default.locals||v.default}),null,null).exports;function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O=c.a.extend({name:"CategorySubtreeWidget",components:{SubtreeCategory:m},props:{level:{type:Number,default:0}},computed:{categories:function(){var e=this,t=this.widgetState.categories||[];return((t[0]||{}).categories||[]).map((function t(n,r){var o=n.categories||[];return S(S({},n),{},{name:n.info.name,href:e.urlBase.replace("{value}",n.info.urlValue),categories:o.length?o.map(t):[],index:r})}))},urlBase:function(){return this.widgetState.urlBaseCategory||""}},methods:{sendCategoryClickEvent:function(e){l.a.send(l.b.CLICK_ACTION,{widget:this.trackingInfo||{},cell:{type:"category",id:e.info.id,index:e.index+1}})},sendViewEvent:function(e){l.a.send(l.b.VIEW_ACTION,{widget:this.trackingInfo||{},cell:{type:"category",id:e.info.id,index:e.index+1}})}}}),_=n("da0b5");var E=Object(h.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{directives:[{name:"qa",rawName:"v-qa:id",value:"tree",expression:"'tree'",arg:"id"}],class:e.$style.aside},e._l(e.categories,(function(t){return n("SubtreeCategory",{directives:[{name:"qa",rawName:"v-qa:id",value:"treeCategory",expression:"'treeCategory'",arg:"id"}],key:t.id,attrs:{categories:t.categories,"current-category":t,"max-level":e.level+1},on:{categoryClick:e.sendCategoryClickEvent,categoryView:e.sendViewEvent}})})),1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null);t.default=E.exports},"6fe48":function(e,t,n){"use strict";var r=n("fef85"),o=n.n(r);t.default=o.a},"7337f":function(e,t,n){e.exports={container:"b6i0"}},"77d77":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ff287"),o=n.n(r),c={computed:{siteAbGroup:function(){return o()(this.$store.state,"experiments.abGroup")||-1},siteExperiments:function(){return o()(this.$store.state,"experiments.experiments")||{}},siteABConfig:function(){return o()(this.$store.state,"experiments.config",{})||{}}}}},"811b7":function(e,t,n){"use strict";var r=n("55555"),o=n.n(r);t.default=o.a},"8ac9b":function(e,t,n){"use strict";var r=n("5ab05"),o=n.n(r);t.default=o.a},"9c4b0":function(e,t,n){"use strict";var r=n("7337f"),o=n.n(r);t.default=o.a},"9c952":function(e,t,n){"use strict";n.r(t);var r=n("d3037"),o=n("5ee63"),c=n("a71f0"),l=r.a.extend({name:"CatalogCurtainNavBarFilters",components:{CurtainNavBar:o.a},methods:{onDismiss:function(){this.$store.dispatch("composer/CLOSE_MODAL"),c.a.send(c.b.CLICK_ACTION,{widget:this.trackingInfo,cell:{type:"ui",title:"Отмена"}})}}}),d=n("9c4b0"),f=n("b429c");var component=Object(f.a)(l,(function(){var e=this.$createElement;return(this._self._c||e)("CurtainNavBar",this._b({class:this.$style.container,attrs:{"right-action-qa-id":"mobile-filters-cancel-button"},on:{dismiss:this.onDismiss}},"CurtainNavBar",this.widgetState,!1))}),[],!1,(function(e){this.$style=d.default.locals||d.default}),null,null);t.default=component.exports},aeaf6:function(e,t,n){e.exports={sortingsBar:"f9c8",sortingLabel:"f9c9",sortingLabelText:"f9d",dropdownIcon:"f9d0",sortingsSelect:"f9d1"}},c748b:function(e,t,n){"use strict";var r=n("f851d"),o=n.n(r);t.default=o.a},da0b5:function(e,t,n){"use strict";var r=n("5e277"),o=n.n(r);t.default=o.a},da766:function(e,t,n){"use strict";var r=n("49c0d"),o={name:"MobileFiltersLoader",functional:!0,render:function(e,t){var n=t.$style;return e("div",{class:n.container},[e(r.dots40,{class:n.loader})])}},c=n("c748b"),l=n("b429c");var component=Object(l.a)(o,void 0,void 0,!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},db10e:function(e,t,n){e.exports={sortings:"c7r3","sorting-select":"c7r4",":hover":"c7r5",title:"c7r6"}},f851d:function(e,t,n){e.exports={container:"f9g6",loader:"f9g7"}},fecfb:function(e,t,n){"use strict";var r=n("11c35"),o=n.n(r);t.default=o.a},fef85:function(e,t,n){e.exports={"active-filters":"f9a8","selected-filter":"f9a9",filter:"f9b",link:"f9b0",":hover":"f9b1",icon:"f9b2",mobile:"f9b3"}}}]);