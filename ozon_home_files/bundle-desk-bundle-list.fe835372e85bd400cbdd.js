(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"13ab6":function(t,e,n){"use strict";var r=n("8c9a8"),o=n.n(r);e.default=o.a},"4107d":function(t,e,n){t.exports={products:"e3g9",product:"e3h",imgWrapper:"e3h0",product1of1:"e3h1",product1of2:"e3h2",product2of2:"e3h3",product1of3:"e3h4",product2of3:"e3h5",product3of3:"e3h6"}},"4420a":function(t,e){var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var s,e=1,n=arguments.length;e<n;e++)for(var a in s=arguments[e])Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);return t}).apply(this,arguments)},r=this&&this.__rest||function(t,s){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]])}return e};t.exports={functional:!0,render:function(t,s){var e=s._c,o=(s._v,s.data),a=s.children,c=void 0===a?[]:a,l=o.class,i=o.staticClass,d=o.style,f=o.staticStyle,p=o.attrs,h=void 0===p?{}:p,v=r(o,["class","staticClass","style","staticStyle","attrs"]);return e("svg",n({class:[l,i],style:[d,f],attrs:Object.assign({width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},v),c.concat([e("path",{attrs:{d:"M18.585 11l-6.292-6.293a1 1 0 111.414-1.414l8 8.001a1 1 0 010 1.414l-8 8a1 1 0 11-1.414-1.415L18.587 13H3a1 1 0 110-2h15.585z",fill:"currentColor"}})]))}}},"4bbb8":function(t,e,n){t.exports={bundleCard:"e2z4",bundleCardMob:"e2z5",header:"e2z6",discount:"e2z7",footer:"e2z8",footerMobile:"e2z9",priceBoxMob:"e3a",oldPriceMob:"e3a0",mobileButton:"e3a1",oldPrice:"e3a2",newPrice:"e3a3"}},"5fe8f":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));var r=function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return t*t},l=new Promise((function(t){r=t})),d=t[e],path=n-d,f=(new Date).getTime(),h=c,v=function c(){var l=(new Date).getTime()-f;if(l>o)return t[e]=n,void r();var v=h(l/o);t[e]=d+path*v,(window.requestAnimationFrame||function(t){return setTimeout(t,25)})(c)};return v(),l},o=function(t){return--t*t*t+1},c=function(t){return 1+--t*Math.pow(t,4)}},"76baf":function(t,e,n){"use strict";var r=n("cefaf"),o=n.n(r);e.default=o.a},82381:function(t,e,n){"use strict";n.r(e);var r=n("4420a"),o=n.n(r),c=n("d9e5b").a.extend({components:{IconForward:o.a}}),l=n("13ab6"),d=n("b429c");var component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"bundle-list-header",expression:"'bundle-list-header'",arg:"id"}],class:t.$style.header},[n("h3",{class:t.$style.title},[t._v(t._s(t.header.title.text))]),t._v(" "),n("p",{class:t.$style.subtitle},[t._v(t._s(t.header.subtitle.text))])]),t._v(" "),n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"bundle-list",expression:"'bundle-list'",arg:"id"}],class:[t.$style.bundleList,t.footer&&t.$style.shelfMode]},[t._l(t.items,(function(e,r){return n("BundleCard",{key:r,class:t.$style.card,attrs:{item:e},on:{cardClick:function(n){return t.openCard(e)},itemClick:function(n){return t.openCard(e,n)},inViewport:function(n){return t.sendBundleView(e)}}})})),t._v(" "),t.footer?n("a",{class:[t.$style.card,t.$style.footerCard],attrs:{href:t.footer.action.link},on:{click:t.sendGoToAllClick}},[n("div",{class:t.$style.footerIconWrapper},[n("IconForward",{class:t.$style.footerIcon})],1),t._v(" "),n("div",{class:t.$style.footerText},[t._v(t._s(t.footer.title))])]):t._e()],2)])}),[],!1,(function(t){this.$style=l.default.locals||l.default}),null,null);e.default=component.exports},"8c9a8":function(t,e,n){t.exports={header:"e1s6",title:"e1s7",subtitle:"e1s8",bundleList:"e1s9",card:"e1t",footerCard:"e1t0",footerIconWrapper:"e1t1",footerIcon:"e1t2",footerText:"e1t3",shelfMode:"e1t4"}},cefaf:function(t,e,n){t.exports={timer:"e3j5"}},d0ccc:function(t,e,n){"use strict";var r=n("4bbb8"),o=n.n(r);e.default=o.a},d9e5b:function(t,e,n){"use strict";var r=n("d3037"),o=n("d68e9"),c={name:"BundleCardProducts",components:{OzImage:o.OzImage},props:{items:{type:Array,required:!0}},data:function(){return{hoverIndex:-1}},methods:{productClasses:function(t){var e="product".concat(t+1,"of").concat(this.items.length);return[this.$style.product,this.$style[e]]}}},l=n("efaa7"),d=n("b429c");var f=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.products},t._l(t.items,(function(e,r){return n("div",{key:r,class:t.productClasses(r),style:{"z-index":t.hoverIndex===r?5:0},on:{mouseenter:function(e){t.hoverIndex=r},mouseleave:function(e){t.hoverIndex=-1},click:function(n){return t.$emit("itemClick",{sku:e.id,index:r})}}},[n("div",{class:t.$style.imgWrapper},[n("OzImage",{attrs:{src:e.imageLink,size:120,"no-text":!0,"use-cdn":!0}})],1)])})),0)}),[],!1,(function(t){this.$style=l.default.locals||l.default}),null,null).exports,h=n("0c80e"),v=n("bbfe9"),m=v.n.MS_IN_HOUR,y=v.n.MS_IN_MINUTE,w=v.n.MS_IN_SECOND,k=v.n.MS_IN_DAY,_={name:"BundleTimer",props:{current:{type:Number,required:!0},end:{type:Number,required:!0},endingText:{type:String,default:"окончена"}},data:function(){return{now:this.current,timer:null}},computed:{left:function(){return this.endTime-this.now},timerText:function(){var t=this.left;if(this.end){if(t<=0)return this.endingText;if(!(t>30*k)){if(t>k){var e=Object(h.f)({date:new Date(this.endTime),monthAsText:!1});return"до ".concat(e)}var n=function(a,b){return String(Math.floor(t%a/b)).padStart(2,"0")};return[n(k,m),n(m,y),n(y,w)].join(":")}}},endTime:function(){return 1e3*this.end}},destroyed:function(){clearTimeout(this.timer)},mounted:function(){this.tick()},methods:{tick:function(){this.now=(new Date).valueOf(),this.left>0&&(this.timer=setTimeout(this.tick,1e3))}}},x=n("76baf");var $=Object(d.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return this.timerText?e("div",{class:this.$style.timer},[e("span",[this._v(this._s(this.timerText))])]):this._e()}),[],!1,(function(t){this.$style=x.default.locals||x.default}),null,null).exports,O={name:"BundleCard",components:{OzButton:o.OzButton,BundleCardProducts:f,Timer:$},props:{item:{type:Object,required:!0}},inject:{isMobile:{default:!1}},computed:{timer:function(){return this.item.timer||{}},tsTo:function(){return Number(this.timer.endTimestamp)||0},tsServer:function(){return Number(this.timer.serverTimestamp)||0},tsFrom:function(){return Number(this.timer.startTimestamp)||0},originalPrice:function(){return this.item.bundlePrice.originalPrice},bundlePrice:function(){return this.item.bundlePrice.price},detectViewportSettings:function(){var t=this;return{once:!0,callback:function(){return t.$emit("inViewport")}}}}},S=n("d0ccc");var I=Object(d.a)(O,(function(){var t,e,n,r,o,c,l=this,d=l.$createElement,f=l._self._c||d;return f("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:l.detectViewportSettings,expression:"detectViewportSettings"}],class:[l.$style.bundleCard,(t={},t[l.$style.bundleCardMob]=l.isMobile,t)]},[f("div",{class:l.$style.header},[f("div",[f("Timer",{attrs:{current:l.tsServer,start:l.tsFrom,end:l.tsTo}})],1),l._v(" "),f("div",{class:l.$style.discount},[l._v("\n      "+l._s(l.item.discount.text)+"\n    ")])]),l._v(" "),f("div",{class:l.$style.products},[f("BundleCardProducts",{attrs:{items:l.item.items},on:{itemClick:function(t){return l.$emit("itemClick",t)}}})],1),l._v(" "),f("div",{class:[(e={},e[l.$style.footer]=!l.isMobile,e),(n={},n[l.$style.footerMobile]=l.isMobile,n)]},[f("div",{class:[(r={},r[l.$style.priceBoxMob]=l.isMobile,r)]},[f("span",{class:[l.$style.oldPrice,(o={},o[l.$style.oldPriceMob]=l.isMobile,o)]},[l._v("\n        "+l._s(l.originalPrice)+"\n      ")]),l._v(" "),f("span",{class:l.$style.newPrice},[l._v("\n        "+l._s(l.bundlePrice)+"\n      ")])]),l._v(" "),f("OzButton",{directives:[{name:"qa",rawName:"v-qa:id",value:"show-bundle-details",expression:"`show-bundle-details`",arg:"id"}],class:[(c={},c[l.$style.mobileButton]=l.isMobile,c)],attrs:{text:l.item.bundleButton.smallButton.text},on:{click:function(t){return l.$emit("cardClick")}}})],1)])}),[],!1,(function(t){this.$style=S.default.locals||S.default}),null,null).exports,P=n("dc2aa"),C=n("ff287"),M=n.n(C),T=r.a.extend({name:"BundleList",components:{BundleCard:I},mixins:[P.a],computed:{footer:function(){var footer=this.widgetInitialState.footer;if(footer&&footer.title&&footer.action)return footer},items:function(){return this.widgetInitialState.bundles||[]},header:function(){var t=this.widgetInitialState.header,header=void 0===t?{}:t;return{title:header.title||{},subtitle:header.subtitle||{}}}},methods:{sendGoToAllClick:function(){var t=(this.footer||{}).trackingInfo;t&&t.click&&this.sendAEvent(t.click)},openCard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sku,r=e.index;this.sendBundleClick(t);var o=(t.items||[])[0];if(o){var c=t.bundleAction.link,l=o.bundlePartId,d=n||o.id,f=o.id;this.loadBundleQuickView({masterId:l,masterItemId:f,productId:d,modalBundleUrl:c,selectedSlotIndex:r})}},sendBundleView:function(t){var e=t.trackingInfo,view=(void 0===e?{}:e).view;view&&this.sendAEvent(view)},sendBundleClick:function(t){var e=M()(t,"bundleButton.smallButton.trackingInfo",{}).click;e&&this.sendAEvent(e)}}}),B=Object(d.a)(T,void 0,void 0,!1,null,null,null);e.a=B.exports},db414:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r,o=n("8237a"),c=n("5fe8f"),l=n("c5519"),d=function(){return(d=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c},h=function(){function t(t,e,n){this.modalNodes={},this.subject=new o.a,this.$router=t,this.$store=e,this.isMobile=n}return t.prototype.isModalOpen=function(){return(this.$store.state.layoutModal||[]).length>0},t.prototype.on=function(t,e){return this.subject.subscribe((function(n){var r=f(n,2),o=r[0],c=r[1];o===t&&e(c)}))},t.prototype.emit=function(t,e){this.subject.next([t,e])},t.prototype.load=function(t,e){var n=this;this.emit("startLoading");var r=this.appendReviewsParams(t);this.currentSku=this.getSkuFromUrl(r);var o=e.mapper,c=e.payload,l=c?"post":"get";return(this.isModalOpen()?this.$store.dispatch("composer/UPDATE_COMPOSER_LAYOUT",{params:{url:r,mapper:o,method:l,payload:c}}):this.$store.dispatch("composer/GET_MODAL",{url:r,mapper:o,method:l,payload:c,options:this.isMobile?{}:{closeButtonPosition:"outside",scrollingWrapper:!1}})).then((function(t){return n.appendProductIdToRoute(r),n.emit("loaded"),setTimeout((function(){try{n.addReviewsScroller(),n.addPdpLinkHandler()}catch(t){console.log(t)}}),500),t}))},t.prototype.setModalNodes=function(t){this.modalNodes=t},t.prototype.addReviewsScroller=function(){var body=this.modalNodes.body,t=Array.from(body.querySelectorAll("a[href]")).find((function(a){return-1!==(a.href||"").indexOf("/reviews/")}));if(t){var e=t.parentNode,marker="$qvScrollHandlerAdded";e[marker]||(e[marker]=!0,e.addEventListener("click",(function(t){t.preventDefault(),t.stopImmediatePropagation();var e=body.querySelector("#comments");if(e){var n=e.getBoundingClientRect().top,r=body.getBoundingClientRect().top,o=Math.max(n-r-20,body.scrollTop);Object(c.a)(body,"scrollTop",o,450,c.b)}}),!0))}},t.prototype.addPdpLinkHandler=function(){var t=this,body=this.modalNodes.body,link=Array.from(body.querySelectorAll("a[href]")).find((function(a){return-1!==(a.href||"").indexOf("#section-description")})),marker="$qvPdpLinkHandlerAdded";link&&!link[marker]&&(link[marker]=!0,link.addEventListener("click",(function(e){e.stopImmediatePropagation(),e.preventDefault();var n=t.currentSku;if(n){var r="/context/detail/id/"+n+"/#section-description--offset-80";e.ctrlKey||e.metaKey?t.$router.redirect(r,l.a.BLANK):t.$router.push(r)}}),!0))},t.prototype.parseUrl=function(t){return this.$router.getParams(t)},t.prototype.buildUrl=function(path,t){var e=Object.entries(t).map((function(t){var e=f(t,2),n=e[0],r=e[1];return n+"="+encodeURIComponent(r)})).join("&");return path+(e?"?"+e:"")},t.prototype.appendProductIdToRoute=function(t){var e;if(this.$router&&"string"==typeof this.$router.current){var n=this.parseUrl(document.location.href),r=n.query,path=n.path,o=this.parseUrl(t).query.product_id;if(o){var c=this.buildUrl(path,d(d({},r),((e={}).product_id=o,e)));this.$router.replace(c,{silent:!0})}}},t.prototype.appendReviewsParams=function(t){var e=this.parseUrl(t),path=e.path,n=e.query,r=this.parseUrl().query;return["sort","reviewsFilters"].forEach((function(param){r[param]&&(n[param]=r[param])})),this.buildUrl(path,n)},t.prototype.getSkuFromUrl=function(t){return this.parseUrl(t).query.product_id||""},t}(),v={computed:{quickViewInstance:function(){if(!r){var t=this.$composerRouter,e=this.$store,n=this.isMobile;r=new h(t,e,n)}return r}},destroyed:function(){(this.quickViewSubscriptions||[]).forEach((function(s){s.unsubscribe()}))},methods:{onQuickViewEvent:function(t,e){var sub=this.quickViewInstance.on(t,e);return this.quickViewSubscriptions||(this.quickViewSubscriptions=[]),this.quickViewSubscriptions.push(sub),sub}}}},dc2aa:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("db414"),o=n("6b183"),c=function(){return(c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},l=function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function d(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}f((r=r.apply(t,e||[])).next())}))},d=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},f=function(data){return Object.keys(data.widgetStates||{}).filter((function(t){return/^webMarketingMarks/.test(t)})).forEach((function(t){try{var e=JSON.parse(data.widgetStates[t]);data.widgetStates[t]=JSON.stringify(c(c({},e),{marks:(e.marks||[]).filter((function(t){return!/Скидка/i.test(t.description)}))}))}catch(t){console.log("failed to map state")}})),data},h={mixins:[r.a,o.a],methods:{loadBundleQuickView:function(t){var e,n=t.masterId,r=t.masterItemId,o=t.productId,c=t.selectedSlotIndex,l=t.payload,d=t.modalBundleUrl;d&&-1!==d.search("favorite_bundle")?e="/modal/bundle-quick-view?bundle="+d.split("bundle=")[1]+"&product_id="+o:e="/modal/bundle-quick-view?master_id="+n+"&master_item_id="+r+"&product_id="+o;return void 0!==c&&(e+="&selected_slot_index="+c),this.quickViewInstance.load(e,{mapper:f,payload:l})},clickFavorite:function(t){return l(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return this.sendFavoritesClick(t),[4,this.onAtomAction(t.action)];case 1:return e.sent(),[4,this.updateWidgetState()];case 2:return e.sent(),[2]}}))}))},sendFavoritesClick:function(t){var e=(t.trackingInfo||t).click;e&&this.sendAEvent(e)}}}},efaa7:function(t,e,n){"use strict";var r=n("4107d"),o=n.n(r);e.default=o.a}}]);